(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],u=0,m=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var c=s[i];0!==r[c]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},n=[];function i(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"74ec774d"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(t){var e=[],s=r[t];if(0!==s)if(s)e.push(s[2]);else{var a=new Promise((function(e,a){s=r[t]=[e,a]}));e.push(s[2]=a);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=i(t);var l=new Error;n=function(e){c.onerror=c.onload=null,clearTimeout(u);var s=r[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",l.name="ChunkLoadError",l.type=a,l.request=n,s[1](l)}r[t]=void 0}};var u=setTimeout((function(){n({type:"timeout",target:c})}),12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/static/dist/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"00bf":function(t,e,s){},"034f":function(t,e,s){"use strict";s("85ec")},"0872":function(t,e,s){},"087e":function(t,e,s){},"0be3":function(t,e,s){"use strict";s("9cbe")},"0cb6":function(t,e,s){},"0d43":function(t,e,s){"use strict";s("c0f9")},"0d5e":function(t,e,s){"use strict";var a=s("bc3a"),r=s.n(a),n="http://127.0.0.1:8000";r.a.defaults.baseURL=n,r.a.interceptors.request.use((function(t){var e=localStorage.getItem("accessToken"),s=e?"JWT ".concat(e):null;return t.headers.Authorization=s,t})),e["a"]=r.a},1006:function(t,e,s){"use strict";s("a330")},"23fc":function(t,e,s){"use strict";s("48a7")},"26cb":function(t,e,s){"use strict";s("e2ec")},"26d9":function(t,e,s){"use strict";s("9315")},"2add":function(t,e,s){},"2b31":function(t,e,s){"use strict";s("bfe8")},"2dfc":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mr-1 pr-1 no-right"},[t.comment.deleted?t._e():s("div",{staticClass:"label-wrapper "},[s("div",{staticClass:"row"},[s("div",{staticClass:"comment-wrap mw-100"},[s("div",{attrs:{div:""}},[s("div",{staticClass:"row pt-2"},[s("div",{staticClass:" col-md-6 author-space-creds col-sm-12"},[s("div",{staticClass:"px-2"},[s("b-icon-person")],1),s("p",{staticClass:"pl-1 mr-2 px-2"},[t._v("Written by: "),s("strong",[t._v(t._s(t.comment.author_comment))])]),t.comment.name_recepient?s("p",{staticClass:"pl-1 mr-2 px-2"},[t._v("Reply to: "),s("strong",[t._v(t._s(t.comment.name_recepient))])]):t._e()]),s("div",{staticClass:"col-md-6 col-sm-12 author-space-action"},[t.currentUser&&t.currentUser.id==t.comment.user_id?[s("div",{staticClass:"pl-1 ml-4 edit",on:{click:function(e){return t.commEdit(t.comment.id)}}},[s("b-icon-pencil")],1),s("div",{staticClass:"pl-1 ml-4 trash",on:{click:t.showModal}},[s("b-icon-trash")],1)]:t._e()],2)]),s("div",{staticClass:"row mb-2"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"comment-date"},[t._v(" Posted on: "),s("strong",[t._v(t._s(t._f("filterDateTime")(t.comment.created_at)))])])])])]),t.comment.deleted?t._e():s("div",[t.isEditing?t._e():s("div",{staticClass:"col-sm-12 "},[s("p",{},[t._v(t._s(t.comment.body)+" ")])]),t.isEditing?s("div",{staticClass:"col-md-12"},[s("app-comment-form",{attrs:{submitLabel:"Edit",hasCancelButton:!0,"initial-body":t.comment.body},on:{updateComment:t.updateComment,handleCancel:t.handleCancel}})],1):t._e(),t.isReplying?s("div",[s("app-comment-form",{attrs:{submitLabel:"Reply",hasCancelButton:!0,"parent-id":t.comment.id,"reply-to-id":t.comment.reply_to_id},on:{reply:t.replyComment,handleCancel:t.handleCancel}})],1):t._e(),t.isLoggedIn?s("div",{staticClass:"d-flex justify-content-left col-md-12 mb-2"},[s("button",{staticClass:"btn btn-outline-success mb-2",class:t.makeButtonInvisible?"hideButton":"",on:{click:function(e){return t.commReply(t.comment.id)}}},[t._v(" Reply ")])]):t._e()])])])]),t.comment.deleted?s("div",{staticClass:"comment-wrap-deleted mt-1 mb-1 mr-4"},[s("div",[t._v("Comment deleted")])]):t._e(),t.replies&&t.replies.length>0?s("div",{staticClass:"mt-2",style:t.indent},t._l(t.replies,(function(e){return s("app-comment",{key:e.id,attrs:{comment:e,"parent-id":e.id,"reply-to-id":e.reply_to_id,"active-comment":t.activeComment,comments:t.comments,depth:0},on:{replyComment:t.replyComment,updateComment:t.updateComment,commEdit:t.commEdit,commReply:t.commReply,commDelete:t.commDelete,handleCancel:t.handleCancel}})})),1):t._e(),t.showConfirmDelete?s("div",{staticClass:"modal-bg"},[s("div",{staticClass:"confirm-modal"},[s("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:t.close}}),s("header",{staticClass:"modal-header"}),t._m(0),s("section",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.commDelete(t.comment.id)}}},[t._v(" Yes,I want to delete this comment ")]),s("button",{staticClass:"btn-green rounded",attrs:{type:"button"},on:{click:t.close}},[t._v("Cancel")])])])]):t._e()])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"modal-body"},[s("h6",[t._v("Do you really want to delete this comment?")])])}],n=s("5530"),i=(s("d3b7"),s("3ca3"),s("ddb0"),s("a9e3"),s("4e82"),s("4de4"),s("99af"),s("2f62")),o=s("c7d4"),c=s("efa4"),l={components:{AppCommentForm:c["a"],AppComment:function(){return Promise.resolve().then(s.bind(null,"2dfc"))}},data:function(){return{showConfirmDelete:!1,makeButtonInvisible:!1}},props:{comment:{type:Object},activeComment:{type:Object||null},parentId:{type:Number},replyToId:{type:Number||null},comments:{type:Array},depth:{type:Number}},methods:{commReply:function(t){this.makeButtonInvisible=!0,this.$emit("commReply",t)},commEdit:function(t){this.makeButtonInvisible=!0,this.$emit("commEdit",t)},commDelete:function(t){this.makeButtonInvisible=!0,this.showConfirmDelete=!1,this.$emit("commDelete",t)},updateComment:function(t){t.id||(t.id=this.comment.id),this.$emit("updateComment",t)},replyComment:function(t){this.$emit("replyComment",t)},onSubmit:function(t){this.$emit("onSubmit",t)},handleCancel:function(){console.log("comment handling cancel"),this.$emit("handleCancel")},close:function(){this.showConfirmDelete=!1},showModal:function(){this.showConfirmDelete=!this.showConfirmDelete}},computed:Object(n["a"])(Object(n["a"])({},Object(i["b"])({currentUser:o["c"].currentUser,isLoggedIn:o["c"].isLoggedIn})),{},{isReplying:function(){return console.log(),this.activeComment&&this.activeComment.id===this.comment.id&&"replying"===this.activeComment.type},isEditing:function(){return this.activeComment&&this.activeComment.id===this.comment.id&&"editing"===this.activeComment.type},isDeleting:function(){return this.activeComment&&this.activeComment.id===this.comment.id&&"deleting"===this.activeComment.type},getReplyId:function(){return this.parentId?this.parentId:this.comment.id},replies:function(){var t=this;return this.comments.filter((function(e){return e.parent===t.parentId})).sort((function(t,e){return new Date(t.created_at).getTime()-new Date(e.created_at).getTime()}))},indent:function(){return{transform:"translate(".concat(50*this.depth,"px)")}}}),filters:{filterDateTime:function(t){var e=new Date(t),s=["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"],a=s[e.getMonth()];return"\n          ".concat(e.getDate()," ").concat(a," ").concat(e.getFullYear()," at ").concat(e.getHours()," H : ").concat(e.getMinutes()," min\n      (UTC: ").concat(e.getUTCHours()," h ").concat(e.getMinutes()," min)")}}},u=l,d=(s("e7ef"),s("2877")),m=Object(d["a"])(u,a,r,!1,null,"61560e0e",null);e["default"]=m.exports},3786:function(t,e,s){"use strict";var a=s("1da1"),r=(s("96cf"),s("a15b"),s("d81d"),s("b64b"),s("0d5e")),n=s("af98"),i=function(t){return r["a"].post("/auth/users/",t)},o=function(t){return r["a"].post("/auth/users/activation/",t)},c=function(t){return r["a"].post("/auth/jwt/create/",t)},l=function(){return r["a"].get("/auth/users/me/")},u=function(t){return r["a"].post("/auth/jwt/refresh/",t)},d=function(t){return r["a"].post("/auth/users/reset_password/",t)},m=function(t){return r["a"].post("/auth/users/reset_password_confirm/",t)},p=function(t){return r["a"].post("/auth/users/set_password/",t)},f=function(t){return n["a"].get("/api/v1/profile-info/".concat(t,"/"))},g=function(t){return r["a"].get("/api/v1/profile-owner/".concat(t,"/"))},v=function(t,e){return r["a"].patch("/api/v1/profile-owner/".concat(t,"/"),e)},h=function(t){return r["a"].delete("api/v1/profile-owner/".concat(t,"/"))},b=function(){console.log("api auth prepares url to send ");var t="http://localhost:8000";return n["a"].get("/auth/o/google-oauth2/?redirect_uri=".concat(t,"/google"))},_=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,s){var a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e||!s||localStorage.getItem("accessToken")){t.next=15;break}return a={headers:{"Content-Type":"application/x-www-form-urlencoded"}},n={state:e,code:s},i=Object.keys(n).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t])})).join("&"),t.prev=4,t.next=7,r["a"].post("/auth/o/google-oauth2/".concat(i),a);case 7:o=t.sent,console.log("resp is",o),o.data.access&&console.log("google gives me an access token"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),console.log("signing up with google is failed");case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e,s){return t.apply(this,arguments)}}();e["a"]={activate:o,confirmEmailPswForget:d,deleteAccount:h,getUser:l,getNewAccessToken:u,getProfile:f,googleAuth:_,login:c,profileOwnerAction:g,profileOwnerEdit:v,requestNewPsw:m,requestChangePsw:p,register:i,registerGoogle:b}},"408a":function(t,e,s){},"40bb":function(t,e,s){"use strict";s("c761")},"42dd":function(t,e,s){"use strict";s("75e8")},"45a8":function(t,e,s){"use strict";s("e8ce")},"48a7":function(t,e,s){},5010:function(t,e,s){"use strict";s("8237")},5017:function(t,e,s){"use strict";s("74be")},"50a3":function(t,e,s){"use strict";s("408a")},"50b0":function(t,e,s){},"553b":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a,r,n,i,o,c,l,u,d,m,p,f,g,v,h,b=s("2b0e"),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Menu"),s("router-view")],1)},E=[],C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("header",[s("div",[s("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[s("b-navbar-brand",{attrs:{href:"#"}},[s("b-icon-house-door")],1),s("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[s("b-navbar-nav",[s("b-nav-item",{attrs:{href:"#"}},[s("router-link",{staticClass:"link-decor",attrs:{to:{name:"home"},exact:"","active-class":"active"}},[t._v("Home")])],1),t.isAnonymous?[s("b-nav-item",{attrs:{href:"#"}},[s("router-link",{staticClass:"link-decor",attrs:{to:{name:"login"},"active-class":"active"}},[t._v("Login")])],1),s("b-nav-item",{attrs:{href:"#"}},[s("router-link",{staticClass:"link-decor",attrs:{to:{name:"signup"},"active-class":"active"}},[t._v("SignUp")])],1)]:t._e(),s("b-nav-item",{attrs:{href:"#"}},[s("router-link",{staticClass:"link-decor",attrs:{to:{name:"ideaGeneral"},"active-class":"active"}},[t._v("Ideas")])],1)],2),s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-form",{},[s("b-form-input",{staticClass:"mr-2 pt-2 top-adjust",attrs:{size:"sm",placeholder:"Search"},model:{value:t.term,callback:function(e){t.term=e},expression:"term"}}),s("b-button",{attrs:{size:"sm",type:"submit"},on:{click:t.doSearch}},[t._v("Search")])],1),t.isLoggedIn?[s("b-nav-item",{attrs:{href:"#"}},[s("router-link",{staticClass:"link-decor",attrs:{to:{name:"ideaCreate"},"active-class":"active"}},[t._v("New Idea")])],1),s("b-nav-item",{attrs:{href:"#"}},[s("a",{staticClass:"link-decor",attrs:{href:"#"},on:{click:t.doSignOut}},[t._v("Sign Out")])]),s("b-nav-item",{attrs:{href:"#"}},[s("b-icon",{attrs:{icon:"person-fill"}}),s("a",{staticClass:"link-decor",attrs:{href:"#"}},[t._v("Welcome, Â "+t._s(t.currentUser.username))])],1),s("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("b-icon-tools")]},proxy:!0}],null,!1,1578573048)},[s("b-dropdown-item",{attrs:{href:"#"},on:{click:t.showProfile}},[t._v("Profile")]),s("b-dropdown-item",{attrs:{href:"#"},on:{click:t.changePsw}},[t._v("Change Password")]),s("b-dropdown-item",{staticClass:"danger",attrs:{href:"#"},on:{click:t.deleteAccount}},[t._v("Delete Account")])],1)]:t._e()],2)],1)],1)],1)]),t.servDown?s("app-warning-server-no-responding",{on:{close:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[s("h3",[t._v("Warning")])]},proxy:!0},{key:"body",fn:function(){return[s("h4",[t._v("Our serve experiencing temporary problems. Will will fix them as soon as possible")])]},proxy:!0}],null,!1,815255937)}):t._e()],1)},w=[],S=s("5530"),T=(s("ac1f"),s("1276"),s("2f62")),R=s("c7d4"),O=s("ade3"),y=s("1da1"),x=(s("96cf"),s("3786")),L={data:"",myprofile:"mio",isLoading:!1,error:null,err500:null,netWorkErr:null},A={retrieveProfile:"[profile] Get profile",showPersonalInfo:"[profile] Owner profile",editPersonalInfo:"[profile] Edit personal profile"},k=(a={},Object(O["a"])(a,A.retrieveProfile,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a($.START_PROFILE_LOADING),r={},s.prev=3,s.next=6,x["a"].getProfile(e);case 6:return n=s.sent,a($.GET_PROFILE_SUCCESS,n.data),r.data=n.data,r.status=n.status,s.abrupt("return",r);case 13:if(s.prev=13,s.t0=s["catch"](3),a($.GET_PROFILE_FAILURE,s.t0),void 0!==s.t0.response){s.next=19;break}return r.servDown=!0,s.abrupt("return",r);case 19:return r.status=s.t0.response.status,s.abrupt("return",r);case 21:case"end":return s.stop()}}),s,null,[[3,13]])})))()})),Object(O["a"])(a,A.showPersonalInfo,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a($.RESET_ERROR),a($.RESET_NETWORK_PROBELM),a($.RESET_STATUS_500),a($.START_PROFILE_LOADING),r={},s.prev=6,s.next=9,x["a"].profileOwnerAction(e);case 9:return n=s.sent,a($.GET_PROFILE_SUCCESS,n.data),r.data=n.data,r.status=n.status,s.abrupt("return",r);case 16:if(s.prev=16,s.t0=s["catch"](6),a($.GET_PROFILE_FAILURE,s.t0),void 0!==s.t0.response){s.next=22;break}return a($.NETWORK_PROBELM),r.servDown=!0,s.abrupt("return",r);case 22:return 500===s.t0.response&&a($.STATUS_500),r.status=s.t0.response.status,console.log("sending servResp tp vue, see status"),s.abrupt("return",r);case 26:case"end":return s.stop()}}),s,null,[[6,16]])})))()})),Object(O["a"])(a,A.editPersonalInfo,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.unid,n=e.profileData,a($.CHANGE_PROFILE_LOADING),i={},s.prev=4,s.next=7,x["a"].profileOwnerEdit(r,n);case 7:return o=s.sent,a($.CHANGE_PROFILE_SUCCESS,o.data),i.status=o.status,i.data=o.data,s.abrupt("return",o);case 14:if(s.prev=14,s.t0=s["catch"](4),void 0!==s.t0.response){s.next=21;break}return i.servDown=!0,s.abrupt("return",i);case 21:if(500!==s.t0.response.status){s.next=26;break}return i.status=s.t0.response.status,s.abrupt("return",i);case 26:return i.status=s.t0.response.status,i.imgErr=s.t0.response.data.image,i.bioErr=s.t0.response.data.bio,i.websiteErr=s.t0.response.data.website,s.abrupt("return",i);case 31:case"end":return s.stop()}}),s,null,[[4,14]])})))()})),a),I={currentProfile:"[profile] currentProfile"},$={START_PROFILE_LOADING:"[profile private] Load profile start",GET_PROFILE_SUCCESS:"[profile private] Get profile success",GET_PROFILE_FAILURE:"[profile private] Get profile failure",CHANGE_PROFILE_LOADING:"[profile private] Edit profile start",CHANGE_PROFILE_SUCCESS:"[profile private] Edit profile success",CHANGE_PROFILE_FAILURE:"[profile private] Edit profile failure",NETWORK_PROBELM:"[profile private] NETWORK_PROBELM",STATUS_500:"[profile private] STATUS 500 SERVER ERROR",RESET_NETWORK_PROBELM:"[profile private] RESET NETWORK_PROBELM",RESET_STATUS_500:"[profile private] RESET STATUS 500 SERVER ERROR",RESET_ERROR:"[profile private] RESET GENERAL ERROR"},j=(r={},Object(O["a"])(r,$.START_PROFILE_LOADING,(function(t){t.isLoading=!0})),Object(O["a"])(r,$.GET_PROFILE_SUCCESS,(function(t,e){t.isLoading=!1,t.data=e,localStorage.setItem("profile",JSON.stringify(e))})),Object(O["a"])(r,$.GET_PROFILE_FAILURE,(function(t,e){t.isLoading=!1,t.error=e,t.data=null})),Object(O["a"])(r,$.CHANGE_PROFILE_LOADING,(function(t){t.isLoading=!0})),Object(O["a"])(r,$.CHANGE_PROFILE_SUCCESS,(function(t,e){t.isLoading=!1,t.data=e})),Object(O["a"])(r,$.CHANGE_PROFILE_FAILURE,(function(t,e){t.isLoading=!1,t.error=e})),Object(O["a"])(r,$.NETWORK_PROBELM,(function(t){t.netWorkErr=!0,t.isLoding=!1})),Object(O["a"])(r,$.STATUS_500,(function(t){t.err500=!0,t.isLoading=!1})),Object(O["a"])(r,$.RESET_STATUS_500,(function(t){t.err500=!1})),Object(O["a"])(r,$.RESET_NETWORK_PROBELM,(function(t){t.netWorkErr=!1})),Object(O["a"])(r,$.RESET_ERROR,(function(t){t.error=!1})),r),P=Object(O["a"])({},I.currentProfile,(function(t){return t.data||JSON.parse(localStorage.getItem("profile"))})),U={state:L,mutations:j,actions:k,getters:P},F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-bg"},[s("div",{staticClass:"confirm-modal"},[s("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:t.close}}),s("header",{staticClass:"modal-header"},[t._t("header",(function(){return[t._v("Default Title ")]}))],2),s("section",{staticClass:"modal-body"},[t._t("body",(function(){return[t._v("Default body ")]}))],2),s("section",{staticClass:"modal-footer"},[t._t("modal-footer",(function(){return[t._v("Default Footer ")]}))],2)])])},N=[],M={name:"AppModal",data:function(){return{}},methods:{close:function(){console.log("close X clicked"),this.$emit("close")}}},D=M,G=(s("97cf"),s("2877")),W=Object(G["a"])(D,F,N,!1,null,"925f7c8e",null),q=W.exports,B={name:"Menu",components:{AppDeleteAccountConfirmation:q,AppWaringServerNotResponding:q},data:function(){return{term:"",makeModalVisible:!1,makeModalVisible2:!1}},computed:Object(S["a"])(Object(S["a"])({},Object(T["b"])({currentUser:R["c"].currentUser,isLoggedIn:R["c"].isLoggedIn,isAnonymous:R["c"].isAnonymous})),Object(T["c"])({error:function(t){return t.auth.error},servDown:function(t){return t.auth.noRespServer}})),methods:{doSignOut:function(){this.$store.dispatch(R["a"].signOut),window.location.reload()},doSearch:function(){this.$router.push({name:"search",params:{term:this.term}}),this.term=""},changePsw:function(){this.$router.push({name:"passwordChange"})},showProfile:function(){var t=this,e=this.currentUser.unid;this.$store.dispatch(R["a"].getUser),this.$store.dispatch(A.showPersonalInfo,e).then((function(s){200===s.status?t.$router.push({name:"accountProfile",params:{unid:e}}):401===s.status?t.$router.push({name:"login"}):500===s.status?alert("Sorry.Something went wrong on the server.Will will fix it as soon as possible."):t.$router.push({name:"accountProfile",params:{unid:e}})})).catch((function(s){t.$router.push({name:"accountProfile",params:{unid:e}})}))},deleteAccount:function(){this.$router.push({name:"deleteAccount"})},close:function(){this.makeModalVisible=!1,this.$router.push({name:"home"})}},mounted:function(){var t=this;this.$store.dispatch(R["a"].getUser).then((function(e){if(200===e)console.log(e);else if(401===e){console.log(e);var s=localStorage.getItem("refreshToken");if(s){var a=Math.ceil(Date.now()/1e3),r=JSON.parse(atob(s.split(".")[1])),n=r.exp;n>a?t.$store.dispatch(R["a"].fetchFreshAccessToken,s).then((function(e){t.$store.dispatch(R["a"].getUser)})).catch((function(t){console.log(t)})):(alert("Your session expired,please login again."),localStorage.clear())}}else 500===e&&console.log(e)})).catch((function(t){console.log(t)}))},created:function(){var t=this;setInterval((function(){var e=localStorage.getItem("refreshToken");if(e){var s=Math.ceil(Date.now()/1e3),a=JSON.parse(atob(e.split(".")[1])),r=a.exp;console.log("exp term: ",r),r>s?t.$store.dispatch(R["a"].fetchFreshAccessToken,e).then((function(t){console.log(t)})).catch((function(t){console.log(t)})):t.$store.commit(mutationTypes.CLEAR_CREDS)}}),18e5)}},V=B,K=(s("b269"),Object(G["a"])(V,C,w,!1,null,"afa88316",null)),H=K.exports,z={name:"App",components:{Menu:H}},Y=z,J=(s("034f"),Object(G["a"])(Y,_,E,!1,null,null,null)),X=J.exports,Z=(s("d3b7"),s("3ca3"),s("ddb0"),s("8c4f")),Q=s("af98"),tt=function(){return Q["a"].get("/api/v1/categories/")},et=function(){return Q["a"].get("/api/v1/categories-create-idea/")},st={getCategTree:tt,getCategForForm:et},at={getCategs:"[categs] Get categ tree"},rt={LOADING_CATEGS:"[cats] Load categories",GET_CATEGS_SUCCESS:"[cats] Success list categs",GET_CATEGS_FAILURE:"[cats] Fail get categs"},nt={isLoading:!1,data:null,error:null},it=(n={},Object(O["a"])(n,rt.LOADING_CATEGS,(function(t){t.isLoading=!0,t.data=null})),Object(O["a"])(n,rt.GET_CATEGS_SUCCESS,(function(t,e){t.isLoading=!1,t.data=e})),Object(O["a"])(n,rt.GET_CATEGS_FAILURE,(function(t,e){t.isLoading=!1,t.error=e})),n),ot=Object(O["a"])({},at.getCategs,(function(t){return Object(y["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,s(rt.LOADING_CATEGS),e.prev=2,e.next=5,st.getCategTree();case 5:if(a=e.sent,200!==a.status){e.next=9;break}return s(rt.GET_CATEGS_SUCCESS,a.data),e.abrupt("return",a.data);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),s(rt.GET_CATEGS_FAILURE,e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()})),ct={state:nt,actions:ot,mutations:it},lt={getCategsForm:"[categForm] Get categ for form idea"},ut={LOADING_CATS_FORM:"[categForm] Load form categs",GET_CATS_FORM_SUCCESS:"[categForm] Success fetch categs for categForm",GET_CATS_FORM_FAILURE:"[categForm] Fail form categs"},dt={isLoading:!1,data:null,error:null},mt=(i={},Object(O["a"])(i,ut.LOADING_CATS_FORM,(function(t){t.isLoading=!0,t.data=null})),Object(O["a"])(i,ut.GET_CATS_FORM_SUCCESS,(function(t,e){t.isLoading=!1,t.data=e})),Object(O["a"])(i,ut.GET_CATS_FORM_FAILURE,(function(t,e){t.isLoading=!1,t.error=e})),i),pt=Object(O["a"])({},lt.getCategsForm,(function(t){return Object(y["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,s(ut.LOADING_CATS_FORM),e.prev=2,e.next=5,st.getCategForForm();case 5:if(a=e.sent,200!==a.status){e.next=9;break}return s(ut.GET_CATS_FORM_SUCCESS,a.data),e.abrupt("return",a.data);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),s(ut.GET_CATS_FORM_FAILURE,e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()})),ft={state:dt,actions:pt,mutations:mt},gt=s("2909"),vt=(s("99af"),s("fb6a"),s("159b"),s("d81d"),s("0d5e")),ht=function(t){return vt["a"].post("/api/v1/ideas-collection/comments/",t)},bt=function(t,e){return vt["a"].patch("/api/v1/ideas-collection/comments/".concat(t,"/"),e)},_t=function(t){return vt["a"].delete("/api/v1/ideas-collection/comments/".concat(t,"/"))},Et=function(t){return Q["a"].get("/api/v1/idea/comments/".concat(t,"/"))},Ct={editComment:bt,deleteComment:_t,fetchAllComments:Et,sendRootComment:ht},wt={sendRootComm:"[comments] Send root comment",fetchCommentList:"[comments] Get all comments",editComm:"[comments] Edit comment",deleteComm:"[comments] Delete comment"},St={SEND_COMMENT_SUCCESS:"[comm] Sent comm  success",SEND_COMMENT_FAILURE:"[comm] Sent comm failure",LOADING_COMMENTS_START:"[comm] Load comments start",FETCH_COMMENTS_SUCCESS:"[comm] Fetch comments success",FETCH_COMMENTS_FAILURE:"[comm] Fetch comments failure",EDIT_COMMENT_START:"[comm] Edit comment start",EDIT_COMMENT_SUCCESS:"[comm] Edit comment success",EDIT_COMMENT_FAILURE:"[comm] Edit comment failure",DELETE_COMMENT_START:"[comm] Delete comment start",DELETE_COMMENT_SUCCESS:"[comm] Delete comment success",DELETE_COMMENT_FAILURE:"[comm] Delete comment failure",NETWORK_PROBELM:"[comm] NETWORK_PROBELM",STATUS_500:"[comm] STATUS 500 SERVER ERROR"},Tt={isLoading:!1,data:null,error:null,flagRerender:!1,servErrs:{status:null,netWorkErr:null,status500:null}},Rt=(o={},Object(O["a"])(o,St.SEND_COMMENT_SUCCESS,(function(t,e){t.isLoading=!1,t.data.push(e)})),Object(O["a"])(o,St.SEND_COMMENT_FAILURE,(function(t,e){t.isLoading=!1,t.error=e})),Object(O["a"])(o,St.LOADING_COMMENTS_START,(function(t){t.isLoading=!0})),Object(O["a"])(o,St.FETCH_COMMENTS_SUCCESS,(function(t,e){t.isLoading=!1,t.data=e})),Object(O["a"])(o,St.FETCH_COMMENTS_FAILURE,(function(t,e){t.isLoading=!1,t.error=e})),Object(O["a"])(o,St.EDIT_COMMENT_START,(function(t){t.isLoading=!0})),Object(O["a"])(o,St.EDIT_COMMENT_SUCCESS,(function(t,e){t.isLoading=!1,t.data.forEach((function(t){t.id===e.id&&(t.body=e.body)}))})),Object(O["a"])(o,St.EDIT_COMMENT_FAILURE,(function(t,e){t.isLoading=!1,t.error=e})),Object(O["a"])(o,St.DELETE_COMMENT_START,(function(){})),Object(O["a"])(o,St.DELETE_COMMENT_SUCCESS,(function(t,e){t.data.map((function(t){t.id===e&&(t.author_comment="comment deleted",t.body="comment deleted",t.created_at=null)}))})),Object(O["a"])(o,St.DELETE_COMMENT_FAILURE,(function(t,e){t.error=e})),Object(O["a"])(o,St.NETWORK_PROBELM,(function(t){t.netWorkErr=!0,t.servErrs.netWorkErr=!0})),Object(O["a"])(o,St.STATUS_500,(function(t){t.err500=!0,t.servErrs.status500=!0})),o),Ot=(c={},Object(O["a"])(c,wt.sendRootComm,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,console.log("store 98; data to send",e),a(St.EDIT_COMMENT_FAILURE,null),a(St.SEND_COMMENT_FAILURE,null),r={},s.prev=5,s.next=8,Ct.sendRootComment(e);case 8:return n=s.sent,console.log("new comm is an object:",n.data),a(St.SEND_COMMENT_SUCCESS,n.data),r.status=n.status,console.log("comm.js line 106",n.status),r.data=n.data,s.abrupt("return",r);case 17:if(s.prev=17,s.t0=s["catch"](5),a(St.SEND_COMMENT_FAILURE,s.t0),void 0!==s.t0.response){s.next=26;break}return a(St.NETWORK_PROBELM),r.servDown=!0,s.abrupt("return",r);case 26:if(500!==s.t0.response.status){s.next=32;break}return a(St.STATUS_500),r.status=s.t0.response.status,s.abrupt("return",r);case 32:return r.status=s.t0.response.status,r.body=s.t0.response.body,s.abrupt("return",r);case 35:case"end":return s.stop()}}),s,null,[[5,17]])})))()})),Object(O["a"])(c,wt.editComm,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i,o,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.id,n=e.body,i={},o={body:n},s.prev=4,s.next=7,Ct.editComment(r,o);case 7:return c=s.sent,a(St.EDIT_COMMENT_SUCCESS,c.data),i.status=c.status,i.data=c.data,s.abrupt("return",i);case 14:if(s.prev=14,s.t0=s["catch"](4),a(St.EDIT_COMMENT_FAILURE,s.t0),void 0!==s.t0.response){s.next=23;break}return a(St.NETWORK_PROBELM),i.servDown=!0,s.abrupt("return",i);case 23:if(500!==s.t0.response.status){s.next=29;break}return a(St.STATUS_500),i.status=s.t0.response.status,s.abrupt("return",i);case 29:return i.status=s.t0.response.status,i.body=s.t0.response.body,s.abrupt("return",i);case 32:case"end":return s.stop()}}),s,null,[[4,14]])})))()})),Object(O["a"])(c,wt.fetchCommentList,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a(St.LOADING_COMMENTS_START),s.prev=2,s.next=5,Ct.fetchAllComments(e);case 5:return r=s.sent,a(St.FETCH_COMMENTS_SUCCESS,r.data),s.abrupt("return",r);case 10:s.prev=10,s.t0=s["catch"](2),a(St.FETCH_COMMENTS_FAILURE,s.t0);case 13:case"end":return s.stop()}}),s,null,[[2,10]])})))()})),Object(O["a"])(c,wt.deleteComm,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r={},s.prev=2,s.next=5,Ct.deleteComment(e);case 5:return n=s.sent,console.log("deleted comm req status:",n.status),a(St.DELETE_COMMENT_SUCCESS,e),r.status=n.status,s.abrupt("return",r);case 12:if(s.prev=12,s.t0=s["catch"](2),a.DELETE_COMMENT_FAILURE(s.t0),void 0!==s.t0.response){s.next=21;break}return a(St.NETWORK_PROBELM),r.servDown=!0,s.abrupt("return",r);case 21:if(500!==s.t0.response.status){s.next=27;break}return a(St.STATUS_500),r.status=s.t0.response.status,s.abrupt("return",r);case 27:return r.status=s.t0.response.status,r.body=s.t0.response.body,s.abrupt("return",r);case 30:case"end":return s.stop()}}),s,null,[[2,12]])})))()})),c),yt={state:Tt,actions:Ot,mutations:Rt},xt=function(t){return Q["a"].get(t)},Lt=function(t){return Q["a"].get("api/v1/ideas-collection/ideas/".concat(t,"/"))},At=function(t){return vt["a"].delete("/api/v1/ideas-collection/ideas/".concat(t,"/"))},kt=function(t){return vt["a"].get("api/v1/ideas-collection/ideas/".concat(t,"/"))},It=function(t){return vt["a"].post("/api/v1/ideas-collection/ideas/",t)},$t=function(t,e){return vt["a"].put("/api/v1/ideas-collection/ideas/".concat(t,"/"),e)},jt=function(t){return vt["a"].get("/api/v1/ideas-collection/relations/".concat(t,"/"))},Pt=function(t){return vt["a"].patch("/api/v1/ideas-collection/relations/".concat(t.id,"/"),t.like)},Ut=function(t){return vt["a"].patch("/api/v1/ideas-collection/relations/".concat(t.id,"/"),t.rating)},Ft={getIdeas:xt,getOneIdea:Lt,deleteIdea:At,createIdea:It,editIdea:$t,getIdeaBeforeEdit:kt,getInitialLikeState:jt,giveLike:Pt,giveRating:Ut},Nt={data:null,isLoading:!1,error:null,count:0,prev:"",next:""},Mt={SET_IDEAS_LOADING:"[ideas] Load ideas start",GET_IDEAS_SUCCESS:"[ideas] Get ideas success",GET_IDEAS_FAILURE:"[ideas] Get ideas failure",SEARCH_IDEAS_LOADING:"[ideas] Search ideas start",SEARCH_IDEAS_SUCCESS:"[ideas] Search ideas success",SEARCH_IDEAS_FAILURE:"[ideas] search ideas failure",SET_COUNT:"[ideas] Set ideas count",SET_PREV:"[ideas] Set ideas prev",SET_NEXT:"[ideas] Set ideas next"},Dt={getIdeas:"[ideas] Get ideas",searchIt:"[ideas] Make search in ideas"},Gt=Object(O["a"])({},Dt.getIdeas,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.apiUrl,a(Mt.SET_IDEAS_LOADING),s.prev=3,s.next=6,Ft.getIdeas(r);case 6:return n=s.sent,a(Mt.GET_IDEAS_SUCCESS,n.data.results),a(Mt.SET_NEXT,n.data.next),a(Mt.SET_PREV,n.data.previous),a(Mt.SET_COUNT,n.data.count),s.abrupt("return",n);case 14:s.prev=14,s.t0=s["catch"](3),a(Mt.GET_IDEAS_FAILURE);case 17:case"end":return s.stop()}}),s,null,[[3,14]])})))()})),Wt=(l={},Object(O["a"])(l,Mt.SET_IDEAS_LOADING,(function(t){t.isLoading=!0,t.data=null})),Object(O["a"])(l,Mt.GET_IDEAS_SUCCESS,(function(t,e){t.isLoading=!1,t.data=e})),Object(O["a"])(l,Mt.GET_IDEAS_FAILURE,(function(t,e){t.isLoading=!1,t.error=e})),Object(O["a"])(l,Mt.SET_COUNT,(function(t,e){t.count=e})),Object(O["a"])(l,Mt.SET_PREV,(function(t,e){t.prev=e})),Object(O["a"])(l,Mt.SET_NEXT,(function(t,e){t.next=e})),Object(O["a"])(l,Mt.GET_TERM_LOOKUP,(function(t,e){t.lookUp=e})),l),qt={state:Nt,mutations:Wt,actions:Gt},Bt={data:null,isLoading:!1,error:null,status403:null},Vt={SET_IDEA_LOADING:"[single idea] Load idea start",GET_IDEA_SUCCESS:"[single idea] Get idea success",GET_IDEA_FAILURE:"[single idea] Get idea failure",DELETE_IDEA_LOADING:"[single idea] DELETE idea start",DELETE_IDEA_SUCCESS:"[single idea] DELETE idea success",DELETE_IDEA_FAILURE:"[single idea] DELETE idea failure",STATUS_403:"[single idea] status 403 No perms",LIKE_START:"[single idea] GIVE like start",SET_LIKE_SUCCESS:"[single idea] UPDATE like idea success",LIKE_FAILURE:"[single idea] UPDATE like idea failure",GET_INITIAL_LIKE_START:"[single idea] GET initial like start",GET_INITIAL_LIKE_SUCCESS:"[single idea] GET like idea success",GET_INITIAL_LIKE_FAILURE:"[single idea] GET like idea failure",RATING_START:"[single idea] GIVE rating start",SET_RATING_SUCCESS:"[single idea] SET rating success",RATING_FAILURE:"[single idea] RATING idea failure"},Kt={getIdea:"[single idea] Get one idea",deleteIdea:"[single idea] Delete idea",handleLike:"[single idea] Handle Like",getLikeState:"[single idea] Get initial state of like",handleRating:"[single idea] Handle Rating"},Ht=(u={},Object(O["a"])(u,Vt.SET_IDEA_LOADING,(function(t){t.isLoading=!0,t.data=null})),Object(O["a"])(u,Vt.GET_IDEA_SUCCESS,(function(t,e){t.isLoading=!1,t.data=e})),Object(O["a"])(u,Vt.GET_IDEA_FAILURE,(function(t,e){t.isLoading=!1,t.error=e})),Object(O["a"])(u,Vt.DELETE_IDEA_LOADING,(function(){})),Object(O["a"])(u,Vt.DELETE_IDEA_SUCCESS,(function(t){t.data=null})),Object(O["a"])(u,Vt.DELETE_IDEA_FAILURE,(function(t,e){t.isLoading=!1,t.error=e,t.status403=!0})),Object(O["a"])(u,Vt.STATUS_403,(function(t){t.isLoading=!1,t.status403=!0})),Object(O["a"])(u,Vt.LIKE_START,(function(t){})),Object(O["a"])(u,Vt.SET_LIKE_SUCCESS,(function(t){})),Object(O["a"])(u,Vt.LIKE_FAILURE,(function(t,e){t.error=e})),Object(O["a"])(u,Vt.GET_INITIAL_LIKE_START,(function(){})),Object(O["a"])(u,Vt.GET_INITIAL_LIKE_SUCCESS,(function(){})),Object(O["a"])(u,Vt.GET_INITIAL_LIKE_FAILURE,(function(t,e){t.error=e})),Object(O["a"])(u,Vt.RATING_START,(function(t){})),Object(O["a"])(u,Vt.SET_RATING_SUCCESS,(function(t){})),Object(O["a"])(u,Vt.RATING_FAILURE,(function(t,e){t.error=e})),u),zt=(d={},Object(O["a"])(d,Kt.getIdea,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.slug,a(Vt.SET_IDEA_LOADING),s.prev=3,s.next=6,Ft.getOneIdea(r);case 6:return n=s.sent,a(Vt.GET_IDEA_SUCCESS,n.data),s.abrupt("return",n);case 11:s.prev=11,s.t0=s["catch"](3),console.log("error by getOneIdea request",s.t0),a(Vt.GET_IDEA_FAILURE,s.t0);case 15:case"end":return s.stop()}}),s,null,[[3,11]])})))()})),Object(O["a"])(d,Kt.deleteIdea,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.slug,a(Vt.SET_IDEA_LOADING),s.prev=3,s.next=6,Ft.deleteIdea(r);case 6:return n=s.sent,a(Vt.DELETE_IDEA_SUCCESS),s.abrupt("return",n);case 11:return s.prev=11,s.t0=s["catch"](3),a(Vt.DELETE_IDEA_FAILURE,s.t0),a(Vt.STATUS_403),s.abrupt("return",s.t0);case 16:case"end":return s.stop()}}),s,null,[[3,11]])})))()})),Object(O["a"])(d,Kt.handleLike,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a(Vt.LIKE_START),r={},s.prev=3,s.next=6,Ft.giveLike(e);case 6:return n=s.sent,a(Vt.SET_LIKE_SUCCESS),r.status=n.status,r.data=n.data,s.abrupt("return",r);case 13:return s.prev=13,s.t0=s["catch"](3),a(Vt.LIKE_FAILURE,s.t0),r.status=s.t0.response.status,s.abrupt("return",r);case 18:case"end":return s.stop()}}),s,null,[[3,13]])})))()})),Object(O["a"])(d,Kt.getLikeState,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r={},s.prev=2,s.next=5,Ft.getInitialLikeState(e);case 5:return n=s.sent,r.status=n.status,r.data=n.data,s.abrupt("return",r);case 11:return s.prev=11,s.t0=s["catch"](2),a(Vt.GET_INITIAL_LIKE_FAILURE,s.t0),r.status=s.t0.response.status,s.abrupt("return",r);case 16:case"end":return s.stop()}}),s,null,[[2,11]])})))()})),Object(O["a"])(d,Kt.handleRating,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a(Vt.RATING_START),s.prev=2,s.next=5,Ft.giveRating(e);case 5:return r=s.sent,a(Vt.SET_RATING_SUCCESS),s.abrupt("return",r);case 10:s.prev=10,s.t0=s["catch"](2),a(Vt.RATING_FAILURE,s.t0);case 13:case"end":return s.stop()}}),s,null,[[2,10]])})))()})),d),Yt={state:Bt,mutations:Ht,actions:zt},Jt={data:null,isSubmitting:!1,servErrs:{status:null,categErr:null,featuredErr:null,titleErr:null,leadTextErr:null,mainTextErr:null,tagsErr:null,thumbnailErr:null,nonFieldErrs:null,netWorkErr:null,status500:null}},Xt={CREATE_IDEA_START:"[creativeIdea] CREATE idea start",CREATE_IDEA_SUCCESS:"[creativeIdea idea] CREATE idea success",CREATE_IDEA_FAILURE:"[creativeIdea idea] CREATE idea failure",NETWORK_PROBELM:"[CreateIdea idea] NETWORK_PROBELM",STATUS_500:"[CreateIdea idea] STATUS 500 SERVER ERROR"},Zt={createIdea:"[creativeIdea] Create idea"},Qt=(m={},Object(O["a"])(m,Xt.CREATE_IDEA_START,(function(){Jt.isSubmitting=!0,Jt.servErrs={}})),Object(O["a"])(m,Xt.CREATE_IDEA_SUCCESS,(function(t,e){t.isSubmitting=!1,t.data=e})),Object(O["a"])(m,Xt.CREATE_IDEA_FAILURE,(function(t){t.isSubmitting=!1})),Object(O["a"])(m,Xt.NETWORK_PROBELM,(function(t){t.netWorkErr=!0,t.isSubmitting=!1})),Object(O["a"])(m,Xt.STATUS_500,(function(t){t.err500=!0,t.isSubmitting=!1})),m),te=Object(O["a"])({},Zt.createIdea,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a(Xt.CREATE_IDEA_START),r={},s.prev=3,s.next=6,Ft.createIdea(e);case 6:return n=s.sent,a(Xt.CREATE_IDEA_SUCCESS),r.slug=n.data.slug,r.status=201,s.abrupt("return",r);case 13:if(s.prev=13,s.t0=s["catch"](3),void 0!==s.t0.response){s.next=21;break}return a(Xt.NETWORK_PROBELM),r.servDown=!0,s.abrupt("return",r);case 21:if(500!==s.t0.response.status){s.next=27;break}return a(Xt.STATUS_500),r.status=s.t0.response.status,s.abrupt("return",r);case 27:return r.status=s.t0.response.status,r.categErr=s.t0.response.data.categ,r.featuredErr=s.t0.response.data.featured,r.titleErr=s.t0.response.data.title,r.leadTextErr=s.t0.response.data.lead_text,r.mainTextErr=s.t0.response.data.main_text,r.tagsErr=s.t0.response.data.detail||s.t0.response.tags,r.thumbnailErr=s.t0.response.data.thumbnail,r.nonFieldErrs=s.t0.response.data.non_field_errors,a(Xt.CREATE_IDEA_FAILURE),s.abrupt("return",r);case 38:case"end":return s.stop()}}),s,null,[[3,13]])})))()})),ee={state:Jt,mutations:Qt,actions:te},se={idea:null,isLoading:null,isSubmitting:!1,servErrs:{status:null,titleErr:null,leadTextErr:null,mainTextErr:null,categErr:null,tagsErr:null,thumbnailErr:null,nonFieldErrs:null,netWorkErr:null,status500:null,status403:null}},ae={SET_IDEA_LOADING:"[editIdea] Load idea start",GET_IDEA_SUCCESS:"[editIdea] Get idea success",GET_IDEA_FAILURE:"[editIdea] Get idea failure",EDIT_IDEA_START:"[editIdea] EDIT idea start",EDIT_IDEA_SUCCESS:"[editIdea] EDIT idea success",EDIT_IDEA_FAILURE:"[editIdea] EDIT idea failure",NETWORK_PROBELM:"[EditIdea] NETWORK_PROBELM",STATUS_500:"[EditIdea] STATUS 500 SERVER ERROR",STATUS_403:"[EditIdea] STATUS 403 SERVER ERROR",STOP_LOADER:"[editIdea] STOP SUBMIT LOADER"},re={getIdea:"[editIdea] FETCH idea",editIdea:"[editIdea] EDIT idea"},ne=(p={},Object(O["a"])(p,ae.SET_IDEA_LOADING,(function(t){t.isLoading=!0,t.idea=null})),Object(O["a"])(p,ae.GET_IDEA_SUCCESS,(function(t,e){t.isLoading=!1,t.idea=e})),Object(O["a"])(p,ae.GET_IDEA_FAILURE,(function(t,e){t.isLoading=!1})),Object(O["a"])(p,ae.EDIT_IDEA_START,(function(){se.isSubmitting=!0,se.servErrs={}})),Object(O["a"])(p,ae.EDIT_IDEA_SUCCESS,(function(t){t.isSubmitting=!1})),Object(O["a"])(p,ae.EDIT_IDEA_FAILURE,(function(t){t.isSubmitting=!1})),Object(O["a"])(p,ae.NETWORK_PROBELM,(function(t){t.netWorkErr=!0,t.isSubmitting=!1})),Object(O["a"])(p,ae.STATUS_500,(function(t){t.status500=!0,t.isSubmitting=!1})),Object(O["a"])(p,ae.STATUS_403,(function(t){t.status403=!0,t.isSubmitting=!1})),p),ie=(f={},Object(O["a"])(f,re.getIdea,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a(ae.SET_IDEA_LOADING),r={},s.prev=3,s.next=6,Ft.getIdeaBeforeEdit(e);case 6:return n=s.sent,a(ae.GET_IDEA_SUCCESS,n.data),r.status=n.status,console.log("to vue",r),s.abrupt("return",r);case 13:if(s.prev=13,s.t0=s["catch"](3),void 0!==s.t0.response){s.next=21;break}return a(ae.NETWORK_PROBELM),r.servDown=!0,s.abrupt("return",r);case 21:if(500!==s.t0.response.status){s.next=27;break}return a(ae.STATUS_500),r.status=s.t0.response.status,s.abrupt("return",r);case 27:return a(ae.GET_IDEA_FAILURE),s.abrupt("return",r);case 29:case"end":return s.stop()}}),s,null,[[3,13]])})))()})),Object(O["a"])(f,re.editIdea,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.slug,n=e.ideaInput,a(ae.EDIT_IDEA_START),i={},s.prev=4,s.next=7,Ft.editIdea(r,n);case 7:return o=s.sent,a(ae.EDIT_IDEA_SUCCESS),i.status=o.status,s.abrupt("return",i);case 13:if(s.prev=13,s.t0=s["catch"](4),console.dir(s.t0),void 0!==s.t0.response){s.next=22;break}return a(ae.NETWORK_PROBELM),i.servDown=!0,s.abrupt("return",i);case 22:if(500!==s.t0.response.status){s.next=28;break}return a(ae.STATUS_500),i.status=s.t0.response.status,s.abrupt("return",i);case 28:if(403!==s.t0.response.status){s.next=34;break}return a(ae.STATUS_403),i.status=s.t0.response.status,s.abrupt("return",i);case 34:return i.status=s.t0.response.status,i.titleErr=s.t0.response.data.title,i.leadTextErr=s.t0.response.data.lead_text,i.mainTextErr=s.t0.response.data.main_text,i.categErr=s.t0.response.data.categ,i.tagsErr=s.t0.response.data.detail||response.tags,i.thumbnailErr=s.t0.response.data.thumbnail,i.nonFieldErrs=s.t0.response.data.non_field_errors,a(ae.EDIT_IDEA_FAILURE),s.abrupt("return",i);case 44:case"end":return s.stop()}}),s,null,[[4,13]])})))()})),f),oe={state:se,mutations:ne,actions:ie},ce=s("b1f8"),le=function(t){return vt["a"].post("/api/v1/unfollow/",t)},ue=function(t){return console.log("line 8",t),vt["a"].post("/api/v1/add-following/",t)},de={unFollow:le,addToFollowing:ue},me={isLoading:null,error:null,netWorkErr:null,status500:null},pe={START_UNFOLLOW_LOADING:"[follow] Start unfollow user",UNFOLLOW_SUCCESS:"[follow] Unfollow success",UNFOLLOW_FAILURE:"[follow] Unfollow failure",START_ADD_FOLLOWING:"[follow] Start add following",ADD_FOLLOWING_SUCCESS:"[follow] Add following success",ADD_FOLLOWING_FAILURE:"[follow]Add following failure",NETWORK_PROBELM:"[follow] Network problem",STATUS_500:"[follow] Status 500"},fe={unFollowUser:"[Follow] Unfollow user",addToFollowing:"[Follow] Add to following"},ge=(g={},Object(O["a"])(g,pe.START_UNFOLLOW_LOADING,(function(t){t.isLoading=!0})),Object(O["a"])(g,pe.UNFOLLOW_SUCCESS,(function(){})),Object(O["a"])(g,pe.UNFOLLOW_FAILURE,(function(t,e){t.isLoading=!1,t.error=e})),Object(O["a"])(g,pe.NETWORK_PROBELM,(function(t){t.netWorkErr=!0,t.isLoading=!1})),Object(O["a"])(g,pe.STATUS_500,(function(t){t.status500=!0,t.isLoading=!1})),Object(O["a"])(g,pe.RESET_NETWORK_PROBELM,(function(t){t.netWorkErr=!1})),Object(O["a"])(g,pe.RESET_STATUS_500,(function(t){t.status500=!1})),Object(O["a"])(g,pe.START_ADD_FOLLOWING,(function(t){t.isLoading=!0})),Object(O["a"])(g,pe.ADD_FOLLOWING_SUCCESS,(function(){})),Object(O["a"])(g,pe.ADD_FOLLOWING_FAILURE,(function(t,e){t.isLoading=!1,t.error=e})),g),ve=(v={},Object(O["a"])(v,fe.unFollowUser,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a(pe.START_UNFOLLOW_LOADING),s.prev=2,s.next=5,de.unFollow(e);case 5:return r=s.sent,a(pe.UNFOLLOW_SUCCESS),s.abrupt("return",r);case 10:return s.prev=10,s.t0=s["catch"](2),a(pe.UNFOLLOW_FAILURE),s.abrupt("return",s.t0);case 14:case"end":return s.stop()}}),s,null,[[2,10]])})))()})),Object(O["a"])(v,fe.addToFollowing,(function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a(pe.START_ADD_FOLLOWING),r={},s.prev=3,s.next=6,de.addToFollowing(e);case 6:return n=s.sent,a(pe.ADD_FOLLOWING_SUCCESS),r.status=n.status,r.data=n.data,s.abrupt("return",r);case 13:if(s.prev=13,s.t0=s["catch"](3),s.t0,Object(ce["a"])("servResp"),a(pe.ADD_FOLLOWING_FAILURE),void 0!==s.t0.response){s.next=21;break}return a(pe.NETWORK_PROBELM),r.servDown=!0,s.abrupt("return",r);case 21:return s.abrupt("return",r);case 22:case"end":return s.stop()}}),s,null,[[3,13]])})))()})),v),he={actions:ve,state:me,mutations:ge},be=function(){return Q["a"].get("/api/v1/tags/")},_e=function(t){return console.log("simple API for tags name firing"),Q["a"].get("/api/v1/tags-name/".concat(t))},Ee={getTags:be,getByTagName:_e},Ce={getTags:"[tags] Get tags"},we={LOADING_TAGS:"[tags] Load tags",GET_TAGS_SUCCESS:"[tags] Set list tags",GET_TAGS_FAILURE:"[tags] Fail list tags"},Se={isLoading:!1,data:null,error:null},Te=(h={},Object(O["a"])(h,we.LOADING_TAGS,(function(t){t.isLoading=!0,t.data=null})),Object(O["a"])(h,we.GET_TAGS_SUCCESS,(function(t,e){t.isLoading=!1,t.data=e})),Object(O["a"])(h,we.GET_TAGS_FAILURE,(function(t,e){t.isLoading=!1,t.error=e})),h),Re=Object(O["a"])({},Ce.getTags,(function(t){return Object(y["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,s(we.LOADING_TAGS),e.prev=2,e.next=5,Ee.getTags();case 5:if(a=e.sent,200!==a.status){e.next=9;break}return s(we.GET_TAGS_SUCCESS,a.data),e.abrupt("return",a.data);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),s(we.GET_TAGS_FAILURE,e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()})),Oe={state:Se,actions:Re,mutations:Te};b["default"].use(T["a"]);var ye=new T["a"].Store({state:{},mutations:{},actions:{},modules:{auth:R["b"],categs:ct,categsForForm:ft,comments:yt,idea:Yt,ideas:qt,ideaCreative:ee,ideaEdit:oe,follow:he,profile:U,tags:Oe}}),xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"messages row mb-2"},[t.errorMsg?s("div",{staticClass:"errorMsg col-md-12"},[t._v(" Errors: "+t._s(t.errorMsg)+" "),s("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"danger"}})],1):t._e(),t.successMsg?s("div",{staticClass:"flesh-msg col-md-12"},[s("b-icon",{attrs:{icon:"three-dots",animation:"cylon","font-scale":"4"}}),t._v(" "+t._s(t.successMsg)+" "),s("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"info"}})],1):t._e()]),s("div",{staticClass:"row"},[s("div",{staticClass:"col col-md-10"},[s("div",{staticClass:"container"},[s("div",{staticClass:"wrapper"},[s("h1",[t._v("Verify your Account:")]),s("button",{staticClass:"btn btn-success",on:{click:t.activateAccount}},[t._v(" Verify ")])])])])])])},Le=[],Ae={name:"AppActivate",data:function(){return{successMsg:"",errorMsg:""}},methods:{activateAccount:function(){var t=this,e=this.$route.params.uid,s=this.$route.params.token;this.$store.dispatch(R["a"].activate,{uid:e,token:s}).then((function(e){console.log("activate view got resp",e),204===e&&(console.log("email is confirmed"),t.successMsg="You email is confirmed and your account is succesfully created",setTimeout((function(){t.$router.push({name:"login"})}),5e3))})).catch((function(e){t.errorMsg="Something went wrong.Please contact us to clearify the problem",console.log("err",e)}))}}},ke=Ae,Ie=(s("7860"),Object(G["a"])(ke,xe,Le,!1,null,"0f8418e2",null)),$e=Ie.exports,je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row mt-4 main-box"},[s("div",{staticClass:"col col-md-10"},[s("div",{staticClass:"container"},[s("div",{staticClass:"wrapper"},[s("h5",[t._v("Please check your email address: "),s("strong",[t._v(t._s(t.showEmailCheck))]),t._v(" to see the link to confirm this email ")])])])])])])},Pe=[],Ue={name:"AppConfirmEmail",computed:{showEmailCheck:function(){return this.$store.state.auth.showEmail.email}}},Fe=Ue,Ne=(s("0d43"),Object(G["a"])(Fe,je,Pe,!1,null,"3f95162e",null)),Me=Ne.exports,De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.ready?"loaded":""},[t._m(0),t._m(1)])},Ge=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("h1",[t._v("Ideas Rule The World")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("h3",[t._v("Rest of the page")]),s("h4",[t._v("Allpy 1/3 rule")]),s("p",[t._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore, temporibus mollitia soluta aliquam rem assumenda pariatur nesciunt vero error reiciendis. Ex fugit nemo corporis est, ab veritatis omnis soluta dolorem.")]),s("h4",[t._v("Golden Ration")]),s("p",[t._v("Lorem ipsum dolor, sit amet consectetur adipisicing elit. At soluta corrupti excepturi culpa repellendus ullam quaerat earum! Provident dolores ipsa dignissimos nobis doloribus odit corrupti incidunt! Consequuntur minus fugit autem?")]),s("h4",[t._v("Animate")]),s("p",[t._v("Lorem ipsum dolor, sit amet consectetur adipisicing elit. Iure, possimus repellendus! Nemo facere quos sint eveniet ea saepe, exercitationem praesentium nisi sit ut. Eveniet dolorum ea, nemo fugit quidem molestiae?")]),s("h4",[t._v("css vars to add?")]),s("p",[t._v("Lorem, ipsum dolor sit amet consectetur adipisicing elit. Cum debitis neque voluptates ducimus itaque sequi necessitatibus distinctio quis repellat ratione sit, quibusdam et error ab mollitia voluptas eaque sapiente perspiciatis!")])])}],We=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("b-jumbotron",{staticClass:"text-center jum-tron",attrs:{header:"Ideas",lead:"Join us"}},[s("p",[t._v("World of ideas runs the world")]),s("b-btn",{attrs:{variant:"success",href:"#"}},[t._v("Ideas")])],1)],1)},qe=[],Be={name:"AppBanner"},Ve=Be,Ke=(s("7446"),Object(G["a"])(Ve,We,qe,!1,null,"59e66310",null)),He=Ke.exports,ze={name:"AppHome",data:function(){return{ready:!1}},components:{AppBanner:He},mounted:function(){this.ready=!0}},Ye=ze,Je=(s("5010"),Object(G["a"])(Ye,De,Ge,!1,null,"0f1cabdc",null)),Xe=Je.exports,Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("app-toggle-feed"),s("div",{staticClass:"row py-3"},[s("div",{staticClass:"col col-md-2 py-3 color"},[s("section",{staticClass:"categs-space"},[s("app-categs")],1)]),s("div",{staticClass:"col col-md-8 py-3 px-0"},[s("app-idea",{attrs:{"api-url":t.apiUrl}})],1),s("div",{staticClass:"col col-md-2 py-3 push-down color"},[s("section",{staticClass:"tags-space p-1"},[s("app-tags")],1)])])],1)},Qe=[],ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"color vh-100"},[s("section",{},[t.isLoading?s("div",[s("app-loader")],1):t._e(),s("div",{staticClass:"d-flex flex-column"},[s("div",{staticClass:"section-categs mb-2 pl-2"},[t._v("Categories:")]),s("app-categ-tree",{attrs:{treeData:t.categs}})],1),t.error?s("div",[t._v("Smth went wrong")]):t._e()]),s("section",[s("app-user-filter")],1)])},es=[],ss=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",t._l(t.treeData,(function(e){return s("div",{key:e.id},[e.children&&e.children.length?s("div",{staticClass:"left-shift"},[s("app-node-tree",{attrs:{name:e.name,children:e.children,depth:0,slug:e.slug}})],1):s("div",{staticClass:"left-shift"},[s("router-link",{staticClass:"categ",attrs:{to:{name:"categ",params:{slug:e.slug}}}},[s("b-badge",{staticClass:"categ px-2 mx-1",attrs:{variant:"secondary"}},[t._v(t._s(e.name))])],1)],1)])})),0)])},as=[],rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tree-menu"},[s("div",{staticClass:"label-wrapper",style:t.indent,on:{click:function(e){return t.toggleChildren(t.slug)}}},[s("router-link",{staticClass:"categ",attrs:{to:{name:"categ",params:{slug:t.slug}}}},[s("b-badge",{staticClass:"categ px-2 mx-1",attrs:{variant:"secondary"}},[t._v(t._s(t.name))])],1)],1),t.showChildren?s("div",t._l(t.children,(function(e){return s("tree-menu",{key:e.id,attrs:{children:e.children,name:e.name,depth:t.depth+1,slug:e.slug}})})),1):t._e()])},ns=[],is={props:["name","children","depth","slug"],name:"tree-menu",computed:{indent:function(){return{transform:"translate(".concat(25*this.depth,"px)")}}},data:function(){return{showChildren:!1}},methods:{toggleChildren:function(t){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showChildren=!e.showChildren;case 1:case"end":return t.stop()}}),t)})))()}}},os=is,cs=(s("a55b"),Object(G["a"])(os,rs,ns,!1,null,"47a00954",null)),ls=cs.exports,us={components:{AppNodeTree:ls},props:["treeData"],created:function(){}},ds=us,ms=(s("a694"),Object(G["a"])(ds,ss,as,!1,null,"1f77246c",null)),ps=ms.exports,fs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"checkboxes"}},[s("form",{on:{submit:function(e){return e.preventDefault(),t.sortIt.apply(null,arguments)}}},[s("p",[t._v("Sort")]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userChoice,expression:"userChoice"}],staticClass:"form-check-input",attrs:{type:"radio",value:"rateOnTop",id:"zTop","active-class":"active"},domProps:{checked:t._q(t.userChoice,"rateOnTop")},on:{change:function(e){t.userChoice="rateOnTop"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"zTop"}},[t._v(" Highest Rating to top ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userChoice,expression:"userChoice"}],staticClass:"form-check-input",attrs:{type:"radio",value:"oldOnTop",id:"oldTop","active-class":"active"},domProps:{checked:t._q(t.userChoice,"oldOnTop")},on:{change:function(e){t.userChoice="oldOnTop"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"oldTop"}},[t._v(" Oldest on top ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userChoice,expression:"userChoice"}],staticClass:"form-check-input",attrs:{type:"radio",value:"newOnTop",id:"newTop","active-class":"active"},domProps:{checked:t._q(t.userChoice,"newOnTop")},on:{change:function(e){t.userChoice="newOnTop"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"newTop"}},[t._v(" Newest op top ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userChoice,expression:"userChoice"}],staticClass:"form-check-input",attrs:{type:"radio",value:"aOnTop",id:"aTop","active-class":"active"},domProps:{checked:t._q(t.userChoice,"aOnTop")},on:{change:function(e){t.userChoice="aOnTop"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"aTop"}},[t._v(" A to top ")])]),s("div",{staticClass:"form-check"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userChoice,expression:"userChoice"}],staticClass:"form-check-input",attrs:{type:"radio",value:"zOnTop",id:"zTop","active-class":"active"},domProps:{checked:t._q(t.userChoice,"zOnTop")},on:{change:function(e){t.userChoice="zOnTop"}}}),s("label",{staticClass:"form-check-label",attrs:{for:"zTop"}},[t._v(" Z to top ")])]),s("p",[t._v("Filter")]),s("div",{staticClass:"input-group mb-3"},[s("div",{staticClass:"input-group-prepend"},[s("div",{staticClass:"input-group-text"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.featurePlus,expression:"featurePlus"}],attrs:{value:"True",type:"checkbox","aria-label":"Featured"},domProps:{checked:Array.isArray(t.featurePlus)?t._i(t.featurePlus,"True")>-1:t.featurePlus},on:{change:function(e){var s=t.featurePlus,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n="True",i=t._i(s,n);a.checked?i<0&&(t.featurePlus=s.concat([n])):i>-1&&(t.featurePlus=s.slice(0,i).concat(s.slice(i+1)))}else t.featurePlus=r}}})])]),s("input",{staticClass:"form-control",attrs:{type:"text","aria-label":"Text input with checkbox",placeholder:"Featured"}})]),s("div",{},[s("b-button",{staticClass:"my-2  mx-2 mt-2",attrs:{size:"sm",type:"submit"}},[t._v("Search")]),s("b-button",{staticClass:"my-2  mx-2 mt-2 btn-success",attrs:{size:"sm"},on:{click:t.reset}},[t._v("Reset filter ")])],1)])])},gs=[],vs={name:"AppUserFilter",data:function(){return{userChoice:null,featurePlus:!1}},computed:{passUserChoice:function(){return"oldOnTop"===this.userChoice?"created_at":"newOnTop"===this.userChoice?"-created_at":"aOnTop"===this.userChoice?"title":"rateOnTop"===this.userChoice?"max_rating":"zOnTop"===this.userChoice?"-title":"-created_at"},showFeatured:function(){return this.featurePlus}},methods:{sortIt:function(){this.$router.push({name:"filter",params:{sort:this.passUserChoice,featured:this.showFeatured}})},reset:function(){this.userChoice=null,this.featurePlus=!1,this.onFront=null}}},hs=vs,bs=(s("6a76"),Object(G["a"])(hs,fs,gs,!1,null,"a7e4e10a",null)),_s=bs.exports,Es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-spinner",{attrs:{small:"",label:"Small Spinner"}}),s("b-spinner",{attrs:{small:"",label:"Small Spinner",type:"grow"}})],1)},Cs=[],ws={name:"AppLoader"},Ss=ws,Ts=Object(G["a"])(Ss,Es,Cs,!1,null,null,null),Rs=Ts.exports,Os={name:"AppCategs",components:{AppCategTree:ps,AppLoader:Rs,AppUserFilter:_s},created:function(){this.$store.dispatch(at.getCategs)},computed:Object(S["a"])({},Object(T["c"])({isLoading:function(t){return t.categs.isLoading},error:function(t){return t.categs.error},categs:function(t){return t.categs.data}}))},ys=Os,xs=(s("26cb"),Object(G["a"])(ys,ts,es,!1,null,"0da590cd",null)),Ls=xs.exports,As=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t.isLoading?a("div",[a("app-loader")],1):t._e(),t.ideasToDisplay||t.isLoading?t._e():a("div",{staticClass:"not-found h-100 d-flex justify-content-center align-items-center"},[t._v(t._s(t.notFoundMsg))]),t.ideasToDisplay?a("div",{staticClass:"wrapper"},t._l(t.ideas,(function(e){return a("div",{key:e.id,staticClass:"row main-row"},[a("div",{staticClass:"col-lg-4 col-md-12 col-sm-12"},[a("div",{staticClass:"idea-img mb-2"},[e.thumbnail?a("div",[a("img",{staticClass:"img-fluid",attrs:{src:e.thumbnail,alt:"img idea",title:"idea.title"}})]):a("div",[a("img",{staticClass:"img-fluid",attrs:{src:s("f46c"),alt:"img"}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 mb-2"},[a("ul",{staticClass:"list-group list-group-horizontal ul-cls",attrs:{disabled:t.isAnonymous}},[a("li",{staticClass:"list-group-item",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Follow ideas of this author"}},[a("b-icon",{attrs:{icon:"bookmark-heart-fill"}})],1),a("li",{staticClass:"list-group-item",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Author profile"}},[a("router-link",{staticClass:"link",attrs:{to:{name:"profile",params:{id:e.author}}}},[a("b-icon",{attrs:{icon:"person-fill"}})],1)],1),a("li",{staticClass:"list-group-item",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Write msg"}},[a("b-icon",{attrs:{icon:"envelope"}})],1)])])])]),a("div",{staticClass:"col-lg-8 col-md-12 col-sm-12"},[a("div",{staticClass:"idea-title mb-1 mt-1"},[a("h3",[a("router-link",{staticClass:"link",attrs:{to:{name:"ideaDetail",params:{slug:e.slug}}}},[t._v(t._s(e.title))])],1)]),a("div",{staticClass:"idea-title mb-2"},[a("router-link",{staticClass:"link",attrs:{to:{name:"profile",params:{id:e.author}}}},[a("p",[t._v("By "),a("b-icon",{attrs:{icon:"person-fill"}}),t._v(" "),a("strong",[t._v(t._s(e.owner_idea))])],1)])],1),a("div",{staticClass:"idea-title mb-2 "},[a("div",[e.avg_rate?a("p",[a("strong",[t._v("Rating: "+t._s(e.avg_rate))])]):t._e()])]),a("div",{staticClass:"idea-title mb-2"},[a("div",[a("app-rating-show",{attrs:{rating:e.avg_rate}})],1)]),a("div",{staticClass:"mb-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-9 col-md-9 col-sm-9"},[a("div",{staticClass:"idea-date mb-2"},[a("span",[t._v(t._s(t._f("filterDateTime")(e.created_at)))])])]),a("app-like",{attrs:{"idea-id":e.id,"idea-likes":e.an_likes,"is-anonym":t.isAnonymous}})],1)]),a("div",{staticClass:"idea-main-text mb-2"},[a("p",[a("strong",[t._v("Main text: ")]),t._v(" "+t._s(e.main_text))])]),a("div",{staticClass:"idea-main-text mb-2"},[a("p",[a("strong",[t._v("Lead text: ")]),t._v(" "+t._s(e.lead_text))])]),a("div",[e.users_comments?a("div",{staticClass:"idea-main-text mb-2"},[a("p",[a("strong",[t._v("Comments")]),t._v(" "+t._s(e.users_comments))])]):a("div",{staticClass:"idea-main-text mb-2 "},[t._m(0,!0)])]),a("div",{staticClass:"idea-read-more mb-2"},[a("router-link",{staticClass:"idea-link",attrs:{to:{name:"ideaDetail",params:{slug:e.slug}}}},[a("button",{staticClass:"btn btn-outline-dark"},[t._v(" Read More ")])])],1),a("div",{staticClass:"idea-read-more mb-2"},[e.tags.length>0?a("div",[a("div",{staticClass:"d-flex justify-content-left"},[a("div",{staticClass:"px-1"},[t._v("Tags:")]),a("app-tags-list",{attrs:{tags:e.tags}})],1)]):t._e()])])])})),0):t._e(),t.ideasToDisplay?a("div",[a("div",[a("div",{staticClass:"col-lg-8 col-md-12 col-sm-12 pagination"},[a("app-pagination",{attrs:{currentPage:t.currentPage,total:t.total,limit:t.limit,url:t.baseUrl,next:t.next,prev:t.prev}})],1)])]):t._e()])},ks=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("No Comments")])])}],Is=(s("a9e3"),s("72bf")),$s=6,js=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",[s("div",[s("ul",{staticClass:"pagination"},[s("li",{staticClass:"page-list",class:{active:1===t.currentPage}},[s("router-link",{staticClass:"page-link",attrs:{to:{path:t.url,query:{page:1}}}},[t._v(" First ")])],1),t.prev?s("li",{staticClass:"page-list"},[s("router-link",{staticClass:"page-link",attrs:{to:{path:t.url,query:{page:t.currentPage-1}}}},[t._v(" Prev ")])],1):t._e(),t._l(t.pages,(function(e){return s("li",{key:e,staticClass:"page-list",class:{active:t.currentPage===e}},[s("router-link",{staticClass:"page-link",attrs:{to:{path:t.url,query:{page:e}}}},[t._v(" "+t._s(e)+" ")])],1)})),t.next?s("li",{staticClass:"page-list"},[s("router-link",{staticClass:"page-link",attrs:{to:{path:t.url,query:{page:t.currentPage+1}}}},[t._v(" Next ")])],1):t._e(),s("li",{staticClass:"page-list"},[s("router-link",{staticClass:"page-link",attrs:{to:{path:t.url,query:{page:t.last}}}},[t._v(" Last ")])],1)],2)])])])},Ps=[],Us=function(t,e){return Object(gt["a"])(Array(e).keys()).map((function(e){return e+t}))},Fs={name:"AppPagination",data:function(){return{last:null}},props:{currentPage:{required:!0,type:Number},limit:{type:Number},total:{type:Number},url:{type:String,required:!0},prev:{type:String||null,required:!1},next:{type:String||null,required:!1}},computed:{pages:function(){var t=Math.ceil(this.total/this.limit);return this.last=t,Us(1,t)},nextPage:function(){return this.currentPage+1}}},Ns=Fs,Ms=(s("9528"),Object(G["a"])(Ns,js,Ps,!1,null,"04f27830",null)),Ds=Ms.exports,Gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",[t.tags?s("div",{staticClass:"tag-list"},t._l(t.tags,(function(e){return s("router-link",{key:e.id,staticClass:"tag",attrs:{to:{name:"ideasByName",params:{name:e}}}},[s("b-badge",{staticClass:"tag px-2 mx-1",attrs:{variant:"secondary"}},[t._v(t._s(e))])],1)})),1):t._e()])])},Ws=[],qs={name:"AppTagsList",props:{tags:{required:!0,type:Array}}},Bs=qs,Vs=(s("d11d"),Object(G["a"])(Bs,Gs,Ws,!1,null,"fd8c085a",null)),Ks=Vs.exports,Hs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("button",{class:{disabled:t.isAnonym,"btn-outline-secondary":t.likeToToggle,"btn-outline-success":!t.likeToToggle},attrs:{type:"button",id:"like-button","data-toggle":"tooltip","data-placement":"right",title:"Please login to Like"},on:{click:t.doLike}},[s("div",{staticClass:"d-flex jsustify-content-between"},[s("b-icon-heart-fill"),s("div",{staticClass:"px-2"},[null===t.likeStatus?s("span",{staticClass:"px-0"},[t._v(t._s(t.ideaLikes))]):s("span",{staticClass:"px-0"},[t._v(t._s(t.newLikeVal))])])],1)]),t.needAuthMsg?s("p",{staticClass:"warning"},[t._v(t._s(t.needAuthMsg))]):t._e()])},zs=[],Ys={name:"Like",props:{ideaId:{type:Number,required:!0},ideaLikes:{type:Number},isAnonym:{type:Boolean,required:!1}},data:function(){return{likeToToggle:null,initialLikeState:null,newLikeVal:this.ideaLikes,likeStatus:null,needAuthMsg:null,localNewLike:{count:null,initialAction:null}}},methods:{doLike:function(){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isAnonym){e.next=3;break}return console.log("hi, anonym"),e.abrupt("return");case 3:t.likeToToggle=!t.likeToToggle,s={like:{like:t.likeToToggle},id:t.ideaId},t.$store.dispatch(Kt.handleLike,s).then((function(e){200===e.status?(t.likeStatus=e.data.like,console.log("dj server confirms data in db",t.likeStatus),!0===t.likeStatus?t.newLikeVal++:t.newLikeVal-=t.newLikeVal):401===e.status&&(console.log("you are not auth-ed????"),t.needAuthMsg="Please, login",setTimeout((function(){t.needAuthMsg=null}),4e3))})).catch((function(t){return console.log("err in like",t)}));case 6:case"end":return e.stop()}}),e)})))()},getInitialLikeState:function(){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch(Kt.getLikeState,t.ideaId).then((function(e){200===e.status&&(t.likeToToggle=e.data.like)})).catch((function(t){return console.log(t)}));case 1:case"end":return e.stop()}}),e)})))()}},created:function(){this.isAnonym||this.getInitialLikeState()}},Js=Ys,Xs=(s("a060"),Object(G["a"])(Js,Hs,zs,!1,null,"44722779",null)),Zs=Xs.exports,Qs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"stars-container"},[t.rating?t._e():s("div",{staticClass:"stars-container"},[s("p",{staticClass:"px-1"},[s("b-icon-star")],1),s("p",{staticClass:"px-1"},[s("b-icon-star")],1),s("p",{staticClass:"px-1"},[s("b-icon-star")],1),s("p",{staticClass:"px-1 "},[s("b-icon-star")],1),s("p",{staticClass:"px-1"},[s("b-icon-star")],1)]),t.rating>0?s("div",{staticClass:"stars-container"},[t._l(t.roundedRating,(function(t){return s("div",{key:t.id,staticClass:"px-1"},[s("div",[s("b-icon-star-fill")],1)])})),t.floatFlag?s("div",[s("div",[s("b-icon-star-half")],1)]):t._e(),t.addEmptyStars?s("div",{staticClass:"stars-container"},t._l(t.addEmptyStars,(function(t){return s("div",{key:t.id,staticClass:"px-1"},[s("p",[s("b-icon-star")],1)])})),0):t._e()],2):t._e()])])},ta=[],ea=(s("8ba4"),{name:"AppRating",props:["rating"],computed:{parseRating:function(){return Number(this.rating)},roundedRating:function(){return Math.floor(Number(this.parseRating))},addEmptyStars:function(){return this.floatFlag?5-this.roundedRating-1:5-this.roundedRating},floatFlag:function(){return!Number.isInteger(Number(this.rating))}},methods:{}}),sa=ea,aa=(s("7faf"),Object(G["a"])(sa,Qs,ta,!1,null,"f8895a2c",null)),ra=aa.exports,na={name:"AppIdea",data:function(){return{notFoundMsg:"Sorry. No results at this moment",ideaLikes:0}},components:{AppPagination:Ds,AppLoader:Rs,AppTagsList:Ks,AppLike:Zs,AppRatingShow:ra},props:{apiUrl:{type:String,required:!0}},computed:Object(S["a"])(Object(S["a"])(Object(S["a"])({},Object(T["c"])({ideas:function(t){return t.ideas.data},total:function(t){return t.ideas.count},isLoading:function(t){return t.ideas.isLoading},error:function(t){return t.ideas.error},prev:function(t){return t.ideas.prev},next:function(t){return t.ideas.next}})),Object(T["b"])({isLoggedIn:R["c"].isLoggedIn,isAnonymous:R["c"].isAnonymous})),{},{baseUrl:function(){return this.$route.path},currentPage:function(){return Number(this.$route.query.page||"1")},limit:function(){return $s},offset:function(){return this.currentPage*$s-$s},ideasToDisplay:function(){return this.total>0}}),watch:{currentPage:function(){this.fetchIdeas()},baseUrl:function(){this.fetchIdeas()}},created:function(){this.fetchIdeas()},methods:{fetchIdeas:function(){var t=Object(Is["parseUrl"])(this.apiUrl),e=Object(Is["stringify"])(Object(S["a"])({limit:$s,offset:this.offset},t.query)),s="".concat(t.url,"?").concat(e);this.$store.dispatch(Dt.getIdeas,{apiUrl:s})}},filters:{filterDateTime:function(t){var e=new Date(t),s=["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"],a=s[e.getMonth()];return"\n          ".concat(e.getDate()," ").concat(a," ").concat(e.getFullYear(),"-").concat(e.getHours(),":").concat(e.getMinutes()," UTC ").concat(e.getUTCHours(),":").concat(e.getMinutes())}}},ia=na,oa=(s("50a3"),Object(G["a"])(ia,As,ks,!1,null,null,null)),ca=oa.exports,la=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"color fill-color pl-1"},[s("section",[s("h3",[t._v("Tags: ")]),t.isLoading?s("div",[s("app-loader")],1):t._e(),t.tags?s("div",{staticClass:"tag-list"},t._l(t.tags,(function(e){return s("router-link",{key:e.id,staticClass:"tag",attrs:{to:{name:"ideasBySlug",params:{slug:e.slug}}}},[s("b-badge",{staticClass:"tag px-2 mx-1",attrs:{variant:"secondary"}},[t._v(t._s(e.name))])],1)})),1):t._e(),t.error?s("div",[t._v("Smth went wrong")]):t._e()])])},ua=[],da={name:"AppTags",components:{AppLoader:Rs},mounted:function(){this.$store.dispatch(Ce.getTags)},computed:Object(S["a"])({},Object(T["c"])({isLoading:function(t){return t.tags.isLoading},error:function(t){return t.tags.error},tags:function(t){return t.tags.data}}))},ma=da,pa=(s("db5b"),Object(G["a"])(ma,la,ua,!1,null,"283b7966",null)),fa=pa.exports,ga=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row py-2"},[s("div",{staticClass:"col col-md-8 py-3 mx-auto d-flex justify-content-around"},[s("div",{staticClass:"col col-md-4 line-right sm-mod"},[s("router-link",{staticClass:"link-decor px-2 py-2",class:{"active-item px-3 py-2":"ideaGeneral"===t.routeName},attrs:{to:{name:"ideaGeneral"}}},[t._v(" General Feed ")])],1),t.isLoggedIn?s("div",{staticClass:"col col-md-4 sm-mod"},[s("router-link",{staticClass:"link-decor px-2 py-2",class:{"active-item px-3 py-2":"personalFeed"===t.routeName},attrs:{to:{name:"personalFeed"}}},[t._v(" Personal Feed ")])],1):t._e(),t.tagSlug?s("div",{staticClass:"col col-md-4 line-left"},[s("router-link",{staticClass:"link-decor px-2 py-2",class:{"active-item px-3 py-2":"ideasBySlug"===t.routeName},attrs:{to:{name:"ideasBySlug",params:{slug:t.tagSlug}}}},[s("b-icon-hash"),t._v(t._s(t.tagSlug)+" ")],1)],1):t._e()])])},va=[],ha=(s("b0c0"),{name:"AppToggleFeed",props:{tagSlug:{type:String,required:!1}},computed:Object(S["a"])(Object(S["a"])({},Object(T["b"])({isLoggedIn:R["c"].isLoggedIn})),{},{routeName:function(){return this.$route.name}})}),ba=ha,_a=(s("bcb5"),Object(G["a"])(ba,ga,va,!1,null,"497df3fa",null)),Ea=_a.exports,Ca={name:"AppIdeaGeneral",components:{AppCategs:Ls,AppIdea:ca,AppTags:fa,AppToggleFeed:Ea},data:function(){return{apiUrl:"/api/v1/ideas-collection/ideas/"}}},wa=Ca,Sa=(s("9642"),Object(G["a"])(wa,Ze,Qe,!1,null,"67d8e880",null)),Ta=Sa.exports,Ra=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("h3",{staticClass:"mb-3 mt-2 text-center"},[t._v("Search results")]),s("div",{staticClass:"row py-3"},[s("div",{staticClass:"col col-md-2 py-3"},[s("section",{staticClass:"categs-space"},[s("app-categs")],1)]),s("div",{staticClass:"col col-md-8 py-3 px-0"},[s("app-idea",{attrs:{"api-url":t.apiUrl}})],1),s("div",{staticClass:"col col-md-2 py-3"},[s("section",{staticClass:"tags-space"},[s("app-tags")],1)])])])},Oa=[],ya={name:"AppIdeaGeneral",components:{AppIdea:ca,AppTags:fa,AppCategs:Ls},computed:{searchTerm:function(){return this.$route.params.term},apiUrl:function(){return"/api/v1/ideas-collection/ideas/?search=".concat(this.searchTerm)}}},xa=ya,La=(s("611c"),Object(G["a"])(xa,Ra,Oa,!1,null,"1e2b5eb6",null)),Aa=La.exports,ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid pt-3"},[t.idea?a("section",{staticClass:"jumbotron text-center px-2 py-2"},[a("div",{staticClass:"container banner mt-2"},[a("h1",{staticClass:"jumbotron-heading"},[t._v("Title: "+t._s(t.idea.title)+" ")]),a("div",[a("div",{staticClass:"idea-date  text-center"},[a("span",[t._v(t._s(t._f("filterDateTime")(t.idea.created_at)))])])]),a("div",{staticClass:"banner-collection align-content-center"},[a("div",{staticClass:"author-info d-flex justify-content-around "},[a("b-avatar"),a("div",{},[t._v("Created by:")]),a("router-link",{staticClass:"px-2",attrs:{to:{name:"profile",params:{id:t.idea.author}}}},[a("p",{},[t._v(t._s(t.idea.owner_idea))])])],1),t.isAnonym?t._e():[t.authorIsCurrentUser?t._e():a("div",[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.addToFollow(t.idea.author)}}},[t._v(" Follow ")])])],t.authorIsCurrentUser?[a("div",{staticClass:"edit-block"},[a("router-link",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{to:{name:"editIdea",params:{slug:t.idea.slug}}}},[a("b-icon-pencil"),t._v("Edit Idea ")],1)],1),a("div",{staticClass:"delete-block"},[a("div",{staticClass:"btn btn-danger btn-sm",on:{click:t.showModal}},[a("b-icon-trash"),t._v("Delete Idea ")],1)])]:t._e()],2)])]):t._e(),a("section",[t.isLoading?a("div",[a("app-loader")],1):t._e(),t.error?a("div",{attrs:{message:t.error}},[a("app-error-msg"),t._v("Ms")],1):t._e()]),a("section",[t.addToFollowMsg?a("div",{staticClass:"flash-msg px-1 py-2 mb-2 pb-4"},[t._v("Successfully added to Following")]):t._e(),t.errMsg?a("div",{staticClass:"flash-msg-warning px-1 py-2 mb-2 pb-4"},[t._v("Sorry.Something went wrong.Try to add authore later")]):t._e()]),t.idea?a("div",{staticClass:"py-2 "},[a("div",{staticClass:"container"},[a("div",{staticClass:"row idea-container"},[a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"card mb-4 box-shadow"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 px-0"},[a("div",{staticClass:"mb-2"},[t.idea.thumbnail?a("div",{},[a("img",{staticClass:"rounded d-block  idea-img",attrs:{src:t.idea.thumbnail,alt:"img idea",title:"idea.title"}})]):a("div",[a("img",{staticClass:"img-fluid",staticStyle:{width:"40%",display:"block"},attrs:{src:s("f46c"),alt:"img"}})])])]),a("div",{staticClass:"d-flex justify-content-around mt-3 px-2 make-vertical"},[a("div",{staticClass:"d-flex justify-content-start"},[a("app-rating-show",{attrs:{rating:t.idea.avg_rate}}),a("div",[a("span",{staticClass:"px-1"},[a("strong",[t._v("Â Â "+t._s(t.idea.avg_rate))])])])],1),t.isLoggedIn?[a("div",{staticClass:"d-flex justify-content-start"},[a("div",{staticClass:"lead"},[t._v("Add ratingÂ  Â  ")]),a("div",{staticClass:"box d-flex px-1"},[a("p",{staticClass:"b1",on:{click:function(e){return t.doStar(5)}}},[a("b-icon-star-fill")],1),a("p",{staticClass:"b2",on:{click:function(e){return t.doStar(4)}}},[a("b-icon-star-fill")],1),a("p",{staticClass:"b3",on:{click:function(e){return t.doStar(3)}}},[a("b-icon-star-fill")],1),a("p",{staticClass:"b4",on:{click:function(e){return t.doStar(2)}}},[a("b-icon-star-fill")],1),a("p",{staticClass:"b5",on:{click:function(e){return t.doStar(1)}}},[a("b-icon-star-fill")],1)])])]:t._e()],2),a("div",{staticClass:"d-flex justify-content-end mt-3 px-3 "},[t.thxRating?a("p",{staticClass:"thanks"},[t._v("Thank you for giving a rating")]):t._e()]),a("div",{staticClass:"card-text px-3 offset-md-2"},[a("div",{staticClass:"mb-2 text-left"},[a("strong",[t._v("Main text:")]),t._v(t._s(t.idea.main_text)+" ")])]),a("div",{staticClass:"card-text px-3 offset-md-2"},[a("div",{staticClass:"mb-2 text-left"},[a("p",[a("strong",[t._v("Lead text:")]),t._v(t._s(t.idea.lead_text)+" Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequatur architecto eum atque odio deserunt! Eaque velit possimus, repellat quis adipisci at accusamus dolores ex sequi corrupti fugiat delectus asperiores non.")]),a("p",[t._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Sint suscipit laboriosam unde, vel nemo blanditiis voluptates? Perferendis similique qui labore porro aliquid, nobis quidem odio, quos neque aperiam placeat consectetur.")])]),a("div",{staticClass:"idea-read-more mb-2"},[t.idea.tags.length>0?a("div",[a("div",{staticClass:"d-flex justify-content-left"},[a("div",{staticClass:"px-1"},[t._v("Tags:")]),a("app-tags-list",{attrs:{tags:t.idea.tags}})],1)]):t._e()])]),a("div",{staticClass:"d-flex justify-content-between align-content-center px-3 mb-3"},[a("div",{staticClass:"d-flex justify-content-between align-content-center"},[a("app-like",{attrs:{"idea-id":t.idea.id,"idea-likes":t.idea.an_likes,"is-anonym":t.isAnonym}})],1),a("div",{staticClass:"d-flex align-content-center"},[a("div",{staticClass:"d-flex justify-content-center align-self-center"},[t.idea.users_comments>0?a("div",[a("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{type:"button"}},[t._v(" Comments ("+t._s(t.idea.users_comments)+") ")])]):t._e(),t.idea.users_comments?t._e():a("div",[a("span",{staticClass:"ml-2"},[t._v("No comments")])])])])])])])])])]):t._e(),a("div",{staticClass:"row"},[t.idea?a("div",[a("app-comments",{attrs:{"idea-slug":t.idea.slug,"idea-id":t.idea.id,"current-user":t.currentUser}})],1):t._e()]),t.makeModalVisible?a("app-delete-idea-confirmation",{on:{close:t.close},scopedSlots:t._u([{key:"header",fn:function(){return[a("h3",[t._v("Warning")])]},proxy:!0},{key:"body",fn:function(){return[a("h4",[t._v("Do you really want to delete this idea?")])]},proxy:!0},{key:"modal-footer",fn:function(){return[a("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.deleteIdea(t.idea.slug)}}},[t._v(" Yes,I want to delete this idea ")]),a("button",{staticClass:"btn btn-sm btn-success",on:{click:t.close}},[t._v("No")])]},proxy:!0}],null,!1,3946894553)}):t._e()],1)},Ia=[],$a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"d-flex justify-content-center"},[t.errorSingleIdea?s("p",{staticClass:"style-msg"},[t._v("Oops.Sorry.Something went wrong")]):t._e()])])},ja=[],Pa={name:"AppErrorMsg",props:{message:{type:String,required:!1}},computed:Object(S["a"])({},Object(T["c"])({errorSingleIdea:function(t){return t.idea.error}}))},Ua=Pa,Fa=(s("a5a5"),Object(G["a"])(Ua,$a,ja,!1,null,null,null)),Na=Fa.exports,Ma=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"row top"},[t.isLoading?s("div",{staticClass:"col-md-12"},[s("app-loader")],1):t._e(),t.isLoggedIn?s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"d-flex justify-content-center"},[s("b-button",{attrs:{variant:"secondary"},on:{click:t.openForm}},[t._v("Write Comment")])],1),t.goWrite?s("div",{staticClass:"col-md-12"},[s("app-comment-form",{attrs:{submitLabel:"Write","active-comment":t.activeComment,hasCancelButtonRoot:!0,"clean-form":t.cleanForm},on:{handleCancelRootComment:t.handleCancelRoot,addRootComment:t.addRootComment}})],1):t._e()]):t._e(),s("div",{staticClass:"comment-list mt-2 ml-2 col-md-12"},[s("div",{staticClass:"section-comments"},[t.warning?s("div",{staticClass:"flesh-msg-error"},[t._v(t._s(t.warning))]):t._e()]),t._l(t.getRootComms,(function(e){return s("app-comment",{key:e.id,attrs:{comment:e,"parent-id":e.id,"reply-to-id":e.reply_to_id,"active-comment":t.activeComment,comments:t.comments,depth:1},on:{replyComment:t.replyComment,updateComment:t.updateComment,commEdit:t.handleEdit,commReply:t.handleReply,commDelete:t.handleDelete,handleCancel:t.handleCancel}})}))],2),t.error?s("div",[t._v("Msg from store: smth went wrong")]):t._e()])])},Da=[],Ga=(s("4de4"),s("efa4")),Wa=s("2dfc"),qa={name:"AppCommentList",components:{AppLoader:Rs,AppComment:Wa["default"],AppCommentForm:Ga["a"]},data:function(){return{activeComment:null,cleanForm:!1,warning:"",goWrite:!1,hasCancelButtonRoot:!1}},props:{ideaId:{type:Number,required:!0},ideaSlug:{type:String,required:!0},currentUser:{type:Object,required:!1}},created:function(){this.$store.dispatch(wt.fetchCommentList,this.ideaSlug)},methods:{handleReply:function(t){this.activeComment={id:t,type:"replying"}},handleEdit:function(t){this.activeComment={id:t,type:"editing"}},handleDelete:function(t){this.activeComment={id:t,type:"deleting"},this.deleteComment(t)},openForm:function(){this.goWrite=!0,this.activeComment={id:null,type:"writing"}},handleCancel:function(){this.activeComment=null},handleCancelRoot:function(){console.log("root cancel"),this.activeComment=null,this.cleanForm=!0,this.goWrite=!1},replyComment:function(t){var e=this,s={body:t.body,idea:this.ideaId,parent:t.parent};this.$store.dispatch(wt.sendRootComm,s).then((function(t){e.activeComment=null})).catch((function(t){return console.log(t)}))},addRootComment:function(t){var e=this;console.log("adding root comment...");var s={body:t.body,idea:this.ideaId,parent:null};console.log("data",s),this.$store.dispatch(wt.sendRootComm,s).then((function(t){201===t.status&&(e.activeComment=null,e.cleanForm=!0,e.goWrite=!1),400===t.status&&void 0===t.body&&(e.warning="comment can not be empty",setTimeout((function(){e.warning=""}),2e3))})).catch((function(t){console.log(t)}))},updateComment:function(t){var e=this;this.$store.dispatch(wt.editComm,t).then((function(t){403===t.status&&(e.warning="Permission denied"),e.activeComment=null})).catch((function(t){return console.log(t)}))},deleteComment:function(t){this.$store.dispatch(wt.deleteComm,t).then((function(t){console.log(t)})).catch((function(t){return console.log(t)}))}},computed:Object(S["a"])(Object(S["a"])(Object(S["a"])({},Object(T["c"])({isLoading:function(t){return t.comments.isLoading},error:function(t){return t.comments.error},comments:function(t){return t.comments.data},fladToRednder:function(t){return t.comments.flagRerender}})),Object(T["b"])({isLoggedIn:R["c"].isLoggedIn})),{},{getRootComms:function(){return this.comments?this.comments.filter((function(t){return null===t.parent})):[]}})},Ba=qa,Va=(s("c82a"),Object(G["a"])(Ba,Ma,Da,!1,null,"69c26214",null)),Ka=Va.exports,Ha={name:"AppIdeaDetail",components:{AppLoader:Rs,AppErrorMsg:Na,AppDeleteIdeaConfirmation:q,AppTagsList:Ks,AppLike:Zs,AppRatingShow:ra,AppComments:Ka},data:function(){return{makeModalVisible:!1,thxRating:null,addToFollowMsg:!1,errMsg:!1,netWorkErr:!1,showComms:!1}},computed:Object(S["a"])(Object(S["a"])(Object(S["a"])({},Object(T["c"])({isLoading:function(t){return t.idea.isLoading},idea:function(t){return t.idea.data},error:function(t){return t.idea.error},treeDataComments:function(t){return t.comments.data},commentsErr:function(t){return t.comments.error},commentsisLoading:function(t){return t.comments.isLoading}})),Object(T["b"])({currentUser:R["c"].currentUser,isLoggedIn:R["c"].isLoggedIn,isAnonym:R["c"].isAnonymous})),{},{authorIsCurrentUser:function(){return!(!this.currentUser||!this.idea.author)&&this.currentUser.id===this.idea.author}}),created:function(){this.getOneIdea()},methods:{getOneIdea:function(){var t=this;this.$store.dispatch(Kt.getIdea,{slug:this.$route.params.slug}).then((function(e){200===e.status?console.log("200"):404===e.status?(console.log("404 not found"),t.$router.push({name:"notFound"})):500===e.status&&t.$router.push({name:"servErr"})}))},doStar:function(t){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:a={rating:t},r={rating:a,id:e.idea.id},e.$store.dispatch(Kt.handleRating,r).then((function(t){200===t.status&&(e.thxRating=!0,setTimeout((function(){e.thxRating=!1}),1e3))}));case 3:case"end":return s.stop()}}),s)})))()},showModal:function(){this.makeModalVisible=!0},close:function(){this.makeModalVisible=!1},deleteIdea:function(t){var e=this;this.makeModalVisible=!1,this.$store.dispatch(Kt.deleteIdea,{slug:t}).then((function(t){204===t.status?e.$router.push({name:"ideaGeneral"}):403===t.response.status&&e.$router.push({name:"noPerms"})})).catch((function(t){return console.log(t)}))},addToFollow:function(t){var e=this;console.log("adding to following",t),this.$store.dispatch(fe.addToFollowing,{authorId:t}).then((function(t){t.servDown?setTimeout((function(){e.errMsg=!1}),2e3):(e.addToFollowMsg=!0,setTimeout((function(){e.addToFollowMsg=!1}),4e3))})).catch((function(t){e.errMsg=!0,setTimeout((function(){e.errMsg=!1}),2e3)}))},fetchComments:function(t){this.$store.dispatch(wt.fetchCommentList,t).then((function(t){console.log(t)})).catch((function(t){return console.log(t)}))}},filters:{filterDateTime:function(t){var e=new Date(t),s=["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dec"],a=s[e.getMonth()];return"\n          ".concat(e.getDate()," ").concat(a," ").concat(e.getFullYear()," at ").concat(e.getHours()," H : ").concat(e.getMinutes()," min \n      (UTC: ").concat(e.getUTCHours()," H ").concat(e.getMinutes()," min)")}}},za=Ha,Ya=(s("23fc"),Object(G["a"])(za,ka,Ia,!1,null,"520b55dd",null)),Ja=Ya.exports,Xa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid mt-3"},[s("h3",{staticClass:"mb-1 text-center"},[t._v("Create a new Idea")]),s("div",{staticClass:"row py-3"},[s("div",{staticClass:"col-xs-12 col-md-10 py-3 text-center offset-md-1"},[s("app-idea-form",{attrs:{action:t.create,categories:t.categories,"initial-values":t.initialValues,errors:t.servResp,"is-submitting":t.isSubmitting},on:{ideaSubmit:t.submitEd}})],1),s("div",{staticClass:"col-xs-12 col-md-10 py-3 text-center offset-md-1"},[t.loadImg?s("app-loader"):t._e()],1)])])},Za=[],Qa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",[t._m(0),s("div",{staticClass:"col-xs-12 col-md-10 py-3 text-center offset-md-1"},[t.isSubmitting?s("app-loader"):t._e()],1),t.errors.netWorkErr?s("div",{staticClass:"warn mb-3"},[s("div",{staticClass:"px-1"},[t._v(t._s(t.errors.netWorkErr))])]):t._e(),s("b-form",{attrs:{enctype:"multipart/form-data",novalidate:""},on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[s("app-categ-input",{attrs:{"set-categ-names":t.categories,categ:t.categ},on:{getCateg:t.readCategVal}},[t._v(" > ")]),t.errors.categErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.errors.categErr,(function(e){return s("li",{key:e.id},[t._v(" Choose a category,please ")])})),0)]):t._e(),s("b-form-group",{staticClass:"text-left",attrs:{id:"input-group-1"}},[s("label",{staticClass:"control-label",attrs:{for:"input-1"}},[t._v("Title")]),s("b-form-input",{staticClass:"control-label",class:{"is-invalid warning":this.$v.title.$error},attrs:{id:"input-1"},on:{blur:function(e){return t.$v.title.$touch()}},model:{value:t.title,callback:function(e){t.title="string"===typeof e?e.trim():e},expression:"title"}}),t.titleRequired?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v(t._s(t.fieldRequired)+" ")]):t._e(),t.inValidTitleMaxLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("Title should at most "+t._s(t.$v.title.$params.maxLength.max)+" chars ")]):t._e()],1),t.errors.titleErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.errors.titleErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),s("b-form-group",{staticClass:"text-left",attrs:{id:"input-group-2"}},[s("label",{staticClass:"control-label",attrs:{for:"input-2"}},[t._v("Lead text")]),s("b-form-input",{class:{"is-invalid warning":this.$v.leadText.$error},attrs:{id:"input-2"},on:{blur:function(e){return t.$v.leadText.$touch()}},model:{value:t.leadText,callback:function(e){t.leadText="string"===typeof e?e.trim():e},expression:"leadText"}}),t.leadTextRequired?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v(t._s(t.fieldRequired)+" ")]):t._e(),t.inValidLeadTextMaxLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("Lead text should at most "+t._s(t.$v.leadText.$params.maxLength.max)+" chars ")]):t._e()],1),t.errors.leadTextErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.errors.leadTextErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),s("b-form-group",{staticClass:"text-left",attrs:{id:"input-group-3"}},[s("label",{staticClass:"control-label",attrs:{for:"input-3"}},[t._v("Main Text")]),s("b-form-textarea",{class:{"is-invalid warning":this.$v.mainText.$error},attrs:{id:"input-3",placeholder:"What is this idea about...",rows:"20","max-rows":"6"},on:{blur:function(e){return t.$v.mainText.$touch()}},model:{value:t.mainText,callback:function(e){t.mainText=e},expression:"mainText"}}),t.mainTextRequired?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v(t._s(t.fieldRequired)+" ")]):t._e(),t.inValidMainTextMaxLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("Main text should at most "+t._s(t.$v.mainText.$params.maxLength.max)+" chars ")]):t._e()],1),t.errors.mainTextErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.errors.mainTextErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),s("b-form-group",{staticClass:"text-left",attrs:{id:"input-group-4",description:"Tags are not required; length should be less than 50 chars and not contain % { $ }"}},[s("label",{attrs:{id:"input-group-4"}},[t._v("Tags ")]),s("b-form-input",{class:{"is-invalid warning":this.$v.tags.$error},attrs:{id:"input-4"},on:{blur:function(e){return t.$v.tags.$touch()}},model:{value:t.tags,callback:function(e){t.tags="string"===typeof e?e.trim():e},expression:"tags"}}),t.inValidTagsMaxLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("Tags text should be at most "+t._s(t.$v.tags.$params.maxLength.max)+" chars ")]):t._e(),t.$v.tags.$dirty&&t.inCorrectTags?s("ul",{staticClass:"mistake"},t._l(t.inCorrectTags,(function(e){return s("li",{key:e.id},[t._v(t._s(e))])})),0):t._e()],1),t.errors.tagsErr?s("div",{staticClass:"warn mb-1"},[s("h5",[t._v("Tags error: "+t._s(t.errors.tagsErr))])]):t._e(),s("b-form-group",{attrs:{id:"input-group-5",label:"Upload File",inline:""}},[s("div",{staticClass:"file-wrap"},[s("label",{staticClass:"file-select mr-sm-2"},[s("div",{staticClass:"select-button"},[t.thumbnail&&t.thumbnail.name?s("span",[t._v("Current file: "+t._s(t.thumbnail.name))]):t._e(),t.thumbnail&&!t.thumbnail.name?s("span",[t._v("Current file: "+t._s(t.getShortName))]):t._e(),t.thumbnail?t._e():s("span",[t._v("Select File")])]),s("input",{ref:"file",attrs:{id:"thumbnail",type:"file",accept:".jpg,.jpeg,.png"},on:{change:t.onFileChange,click:t.clearCheckboxUploadFile}})]),s("span",{staticClass:"clearable-file-input"},[s("label",{staticClass:"text-mute"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],ref:"check",attrs:{id:"checkbox_img",type:"checkbox",name:"thumbnail_clear"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:[function(e){var s=t.checked,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n=null,i=t._i(s,n);a.checked?i<0&&(t.checked=s.concat([n])):i>-1&&(t.checked=s.slice(0,i).concat(s.slice(i+1)))}else t.checked=r},t.detachFile]}}),t._v(" Remove file ")])])]),s("p",{staticClass:"text-mute"},[t._v("Allowed images with extentions: .png,.jpg/.jpeg")])]),t.errors.thumbnailErr?s("div",[t.errors.thumbnailErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.errors.thumbnailErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e()]):t._e(),t.localErr?s("div",{staticClass:"msg mb-2 py-2",class:t.localErr?"is-danger":"is-success"},[t.alertHeavyFile?s("div",{staticClass:"msg-body mb-1"},[t._v(t._s(t.alertHeavyFile))]):t._e(),t.formatNotAllowed?s("div",{staticClass:"msg-body"},[t._v(" Only images are allowed ")]):t._e(),s("b-button",{staticClass:"mt-2",on:{click:t.userSawErrors}},[t._v("initial state")])],1):t._e(),t.errors.error400?s("div",[s("div",{staticClass:"warn mb-1"},[s("p",{staticClass:"is_danger"},[s("strong",[t._v(t._s(t.errors.error400.badRequest))])])])]):t._e(),t.errors.notAuthorized?s("div",[s("div",{staticClass:"warn mb-1"},[s("p",{staticClass:"is_danger"},[s("strong",[t._v(t._s(t.errors.notAuthorized.notAuthorized))])])])]):t._e(),t.errors.noPerms?s("div",[s("div",{staticClass:"warn mb-1"},[s("p",{staticClass:"is_danger"},[s("strong",[t._v(t._s(t.errors.noPerms.noPermission))])])])]):t._e(),s("b-button",{staticClass:"pull-xs-right btn btn-large btn-success",attrs:{type:"submit",variant:"primary",disabled:t.submitButDisable}},[t._v(" Publish Idea ")])],1)],1)])},tr=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"text-muted"},[s("span",{staticClass:"control-label"},[t._v("Fields marked with ")]),t._v(" are required")])}],er=(s("caad"),s("2532"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-form-group",{staticClass:"text-left",attrs:{id:"input-group-11"}},[s("label",{staticClass:"control-label",attrs:{for:"input-11"}},[t._v("Category")]),s("b-form-select",{attrs:{id:"input-11",options:t.setCategNames},on:{change:t.catVal},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1)],1)}),sr=[],ar={name:"AppCategInput",props:{placeholder:{type:String},setCategNames:{type:Array},categ:{type:Number,required:!0}},data:function(){return{category:this.categ}},methods:{catVal:function(){this.$emit("getCateg",this.getCateg)}},computed:{getCateg:function(){return this.category}}},rr=ar,nr=Object(G["a"])(rr,er,sr,!1,null,null,null),ir=nr.exports,or=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"error-section"},[s("ul",{staticClass:"error-messages"},t._l(t.errorMessages,(function(e){return s("li",{key:e,staticClass:"warning"},[t._v(" "+t._s(e)+" ")])})),0)])},cr=[],lr=(s("b64b"),s("a15b"),{name:"AppErrorMsg",props:{validationErrors:{type:Object,required:!0}},computed:{errorMessages:function(){var t=this;return console.log("this val errs",this.validationErrors),Object.keys(this.validationErrors).map((function(e){var s=t.validationErrors[e].join(", ");return"".concat(e," ").concat(s)}))}}}),ur=lr,dr=(s("0be3"),Object(G["a"])(ur,or,cr,!1,null,"39504d3e",null)),mr=dr.exports,pr=(s("498a"),{trimInputTag:function(t){var e=t.lastIndexOf(",");t.lastIndexOf(",")===t.length-1&&(console.log("inside if "),t=t.substr(0,e).toLowerCase()),t.toLowerCase();var s=t.split(","),a="";return s.forEach((function(t){a+="".concat(t.trim(),",")})),a},convertTagsListToString:function(t){var e="";return t.forEach((function(t){e+="".concat(t.trim(),",")})),e}}),fr=pr,gr=800,vr=.9,hr=function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=document.createElement("canvas"),a=document.createElement("img"),t.next=4,new Promise((function(t){var s=new FileReader;s.onload=function(e){return t(e.target.result)},s.readAsDataURL(e)}));case 4:return a.src=t.sent,t.next=7,new Promise((function(t){a.onload=t}));case 7:return s.width=a.width,s.height=a.height,s.getContext("2d").drawImage(a,0,0,s.width,s.height),t.abrupt("return",s);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),br=function(t,e){var s=document.createElement("canvas");return s.width=t.width*e,s.height=t.height*e,s.getContext("2d").drawImage(t,0,0,s.width,s.height),s},_r=function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,hr(e);case 2:s=t.sent;while(s.width>=2*gr)s=br(s,.5);return s.width>gr&&(s=br(s,gr/s.width)),t.abrupt("return",new Promise((function(t){s.toBlob(t,"image/jpeg",vr)})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Er=_r,Cr=function(t){console.log("url",t);var e=t.split("/");return console.log("arr is",e),e[e.length-1]},wr=Cr,Sr=s("b5ae"),Tr={name:"AppIdeaForm",components:{AppCategInput:ir,AppLoader:Rs,AppValidationErrors:mr},props:{categories:{type:Array,required:!0},initialValues:{type:Object,required:!0},errors:{type:Object},isSubmitting:{type:Boolean,required:!0},action:{type:String}},data:function(){return{categ:this.initialValues.categ,title:this.initialValues.title,leadText:this.initialValues.leadText,mainText:this.initialValues.mainText,featured:this.initialValues.featured,tags:this.initialValues.tags,thumbnail:this.initialValues.thumbnail,checked:!1,localErr:!1,formatNotAllowed:!1,resizedThumbnail:null,alertHeavyFile:null,categInputPresent:!1,fieldRequired:"This field is required",customSubmitPort:this.isSubmitting,customCategErr:!1}},validations:{categ:{required:Sr["required"]},title:{required:Sr["required"],maxLength:Object(Sr["maxLength"])(120)},leadText:{required:Sr["required"],maxLength:Object(Sr["maxLength"])(120)},mainText:{required:Sr["required"],maxLength:Object(Sr["maxLength"])(2048)},tags:{maxLength:Object(Sr["maxLength"])(50)}},methods:{onSubmit:function(){var t=new FormData;if(t.append("categ ",this.categ),t.append("title",this.title),t.append("lead_text",this.leadText),t.append("main_text",this.mainText),this.tags){var e=fr.trimInputTag(this.tags);t.append("tags",e)}this.resizedThumbnail?t.append("thumbnail",this.resizedThumbnail):this.clickRemoveFile?t.append("thumbnail",""):!this.clickRemoveFile&&"string"===typeof this.thumbnail&&this.thumbnail.includes("https://boterland.s3.amazonaws.com")?t.append("thumbnail",this.initialValues.thumbnail):t.append("thumbnail",""),this.$emit("ideaSubmit",t)},readCategVal:function(t){this.categ=t},onFileChange:function(){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function e(){var s,a,r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$refs.check.checked=!1,t.localErr=!1,s=t.$refs.file.files[0],a=["image/jpeg","image/png","image/jpg"],r=2e6,n=s.size>r,!a.includes(s.type)||n){e.next=14;break}return t.thumbnail=s,e.next=10,Er(t.thumbnail);case 10:i=e.sent,t.resizedThumbnail=new File([i],t.thumbnail.name),e.next=17;break;case 14:t.localErr=!0,n&&(t.alertHeavyFile="File too large.MAX sise is ".concat(r/1e3,"kB")),a.includes(s.type)||(t.formatNotAllowed=!0);case 17:case"end":return e.stop()}}),e)})))()},clearCheckboxUploadFile:function(){this.$refs.check.checked=!1},detachFile:function(){this.$refs.file.value="",this.localErr=!1,this.clickRemoveFile=!0,this.thumbnail="",this.resizedThumbnail=null},userSawErrors:function(){this.alertHeavyFile=!1,this.formatNotAllowed=!1,this.localErr=!1}},computed:{formInValid:function(){return this.$v.$invalid},submitButDisable:function(){return this.formInValid||this.customSubmitPort||this.alertHeavyFile||this.formatNotAllowed||0===this.categ},categRequired:function(){return 0===this.categ},getShortName:function(){return this.thumbnail?wr(this.thumbnail):""},titleRequired:function(){return this.$v.title.$dirty&&!this.$v.title.required},leadTextRequired:function(){return this.$v.leadText.$dirty&&!this.$v.leadText.required},mainTextRequired:function(){return this.$v.mainText.$dirty&&!this.$v.mainText.required},inValidTitleMaxLen:function(){return this.$v.title.$dirty&&!this.$v.title.maxLength},inValidLeadTextMaxLen:function(){return this.$v.leadText.$dirty&&!this.$v.leadText.maxLength},inValidMainTextMaxLen:function(){return this.$v.mainText.$dirty&&!this.$v.mainText.maxLength},inValidTagsMaxLen:function(){return this.$v.tags.$dirty&&!this.$v.tags.maxLength},inCorrectTags:function(){var t=[];return this.$v.tags.$dirty?(/([{%$}])/.test(this.tags)&&t.push("Tags should not contain digits chars like @$%#"),t):t}}},Rr=Tr,Or=(s("a3e9"),Object(G["a"])(Rr,Qa,tr,!1,null,"2ca030a4",null)),yr=Or.exports,xr={name:"AppIdeaCreate",components:{AppIdeaForm:yr,AppLoader:Rs},data:function(){return{categories:[],initialValues:{categ:0,title:"",leadText:"",mainText:"",thumbnail:null,featured:!1,tags:""},create:"create",servResp:{status:null,categErr:null,featuredErr:null,titleErr:null,leadTextErr:null,mainTextErr:null,tagsErr:null,thumbnailErr:null,netWorkErr:null,nonFieldErr:null},loadImg:!1}},methods:{submitEd:function(t){var e=this;this.$store.dispatch(Zt.createIdea,t).then((function(t){t.slug||201===t.status?(e.loadImg=!0,setTimeout((function(){e.$router.push({name:"ideaDetail",params:{slug:t.slug}}),e.loadImg=!1}),4e3),e.$router.push({name:"ideaDetail",params:{slug:t.slug}})):t.servDown?e.servResp.netWorkErr="Sorry. Our server is enduring some problems.Please try later":500===t.status?e.servResp.netWorkErr="A server/network error occured.Sorry about this - we will get it fixed shortly.":403===t.status?(e.servResp.nonFieldErr="Not authorized access",e.$router.push({name:"noPerms"})):(e.servResp.categErr=t.categErr,e.servResp.featuredErr=t.featuredErr,e.servResp.titleErr=t.titleErr,e.servResp.leadTextErr=t.leadTextErr,e.servResp.mainTextErr=t.mainTextErr,e.servResp.tagsErr=t.tagsErr,e.servResp.thumbnail=t.thumbnailErr,e.servResp.nonFieldErr=t.nonFieldErr)})).catch((function(t){return console.log("final err",t)}))}},created:function(){var t=this;this.$store.dispatch(lt.getCategsForm).then((function(e){var s=[{text:"Choose... ",value:null,disabled:!0,selected:!0}];e.forEach((function(t){s.push({text:t.name,value:t.id})})),t.categories=s})).catch((function(t){return console.log(t)}))},computed:Object(S["a"])({},Object(T["c"])({isSubmitting:function(t){return t.ideaCreative.isSubmitting},validationErrors:function(t){return t.ideaCreative.servErrs}}))},Lr=xr,Ar=Object(G["a"])(Lr,Xa,Za,!1,null,null,null),kr=Ar.exports,Ir=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid mt-3"},[s("h3",{staticClass:"mb-4 text-center"},[t._v("Edit your Idea")]),s("div",{staticClass:"row py-3"},[s("div",{staticClass:"col-xs-12 col-md-10 py-3 text-center offset-md-1"},[t.isLoading?s("app-loader"):t._e()],1),s("div",{staticClass:"col-xs-12 col-md-10 py-3 text-center offset-md-1"},[t.initialValues?s("app-idea-form",{attrs:{action:t.edit,categories:t.categList,"initial-values":t.initialValues,errors:t.servResp,"is-submitting":t.isSubmitting},on:{ideaSubmit:t.submitEd}}):t._e()],1),s("div",{staticClass:"col-xs-12 col-md-10 py-3 text-center offset-md-1"},[t.loadImg?s("app-loader"):t._e()],1)])])},$r=[],jr={name:"AppIdeaEdit",components:{AppIdeaForm:yr,AppLoader:Rs},data:function(){return{categList:[],edit:"edit",servResp:{status:null,categErr:null,featured:null,titleErr:null,leadTextErr:null,mainTextErr:null,tagsErr:null,thumbnailErr:null,netWorkErr:null,nonFieldErr:null,notAuthorized:null},loadImg:!1}},methods:{submitEd:function(t){var e=this,s=this.$route.params.slug;this.$store.dispatch(re.editIdea,{slug:s,ideaInput:t}).then((function(t){200===t.status?(e.loadImg=!0,setTimeout((function(){e.$router.push({name:"ideaDetail",params:{slug:s}}),e.loadImg=!1}),4e3)):t.servDown?e.servResp.netWorkErr="Sorry. Our server is enduring some problems.Please try later":500===t.status?e.servResp.netWorkErr="A server/network error occured.Sorry about this - we will get it fixed shortly.":(e.servResp.categErr=t.categErr,e.servResp.titleErr=t.titleErr,e.servResp.leadTextErr=t.leadTextErr,e.servResp.mainTextErr=t.mainTextErr,e.servResp.tagsErr=t.tagsErr,e.servResp.featuredErr=t.featuredErr,e.servResp.thumbnail=t.thumbnailErr,e.servResp.nonFieldErr=t.nonFieldErr,403===t.status&&(e.servResp.noPerms={noPermission:"Sorry.You don't have permission to to this"},e.$router.push({name:"noPerms"})),400===t.status&&(e.servResp.error400={badRequest:"Sorry.Error 400. Something went wrong during editing.Please try later"}),401===t.status&&(e.servResp.notAuthorized={notAuthorized:"Sorry.Your session is expired.Please login again."}))})).catch((function(t){return console.log("final err",t)}))}},created:function(){var t=this,e=this.$route.params.slug;this.$store.dispatch(lt.getCategsForm).then((function(e){var s=[{text:"Choose... ",value:null,disabled:!0,selected:!0}];e.forEach((function(t){s.push({text:t.name,value:t.id})})),t.categList=s})).catch((function(t){return console.log(t)})),this.$store.dispatch(re.getIdea,e).then((function(t){console.log(t.status)})).catch((function(t){return console.log("can't fetch idea with this slug",t)}))},computed:Object(S["a"])(Object(S["a"])({},Object(T["c"])({isLoading:function(t){return t.ideaEdit.isLoading},isSubmitting:function(t){return t.ideaEdit.isSubmitting},idea:function(t){return t.ideaEdit.idea},errors:function(t){return t.ideaEdit.servErrs}})),{},{initialValues:function(){if(this.idea){var t=fr.convertTagsListToString(this.idea.tags);return{categ:this.idea.categ,categName:this.idea.categ_name,title:this.idea.title,leadText:this.idea.lead_text,mainText:this.idea.main_text,featured:this.idea.featured,tags:t,thumbnail:this.idea.thumbnail,slug:this.idea.slug}}return null}})},Pr=jr,Ur=Object(G["a"])(Pr,Ir,$r,!1,null,null,null),Fr=Ur.exports,Nr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row py-3"},[s("div",{staticClass:"col col-md-2 py-3"},[s("section",{staticClass:"categs-space"},[s("app-categs")],1)]),s("div",{staticClass:"col col-md-8 py-3"},[s("app-idea",{attrs:{"api-url":t.apiUrl}})],1),s("div",{staticClass:"col col-md-2 py-3"},[s("section",{staticClass:"tags-space"},[s("app-tags")],1)])])])},Mr=[],Dr=(s("4e82"),{name:"AppIdeaGeneral",components:{AppIdea:ca,AppTags:fa,AppCategs:Ls},computed:{sortBy:function(){return this.$route.params.sort},filterBy:function(){return this.$route.params.featured},apiUrl:function(){return"/api/v1/ideas-collection/ideas/?ordering=".concat(this.sortBy,"&featured=").concat(this.filterBy)}}}),Gr=Dr,Wr=(s("cae6"),Object(G["a"])(Gr,Nr,Mr,!1,null,"2ed06ca8",null)),qr=Wr.exports,Br=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("app-toggle-feed",{attrs:{"tag-slug":t.tagSlug}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col col-md-2 categ-space color"},[s("section",{staticClass:"categs-space"},[s("app-categs")],1)]),s("div",{staticClass:"col col-md-8"},[s("app-idea",{attrs:{"api-url":t.apiUrl}})],1),s("div",{staticClass:"col col-md-2"},[s("section",{staticClass:"tags-space"},[s("app-tags")],1)])])],1)},Vr=[],Kr={name:"AppTagIdeas",components:{AppIdea:ca,AppTags:fa,AppCategs:Ls,AppToggleFeed:Ea},computed:{tagSlug:function(){return this.$route.params.slug},apiUrl:function(){return"/api/v1/tags-name/".concat(this.tagSlug,"/")}}},Hr=Kr,zr=(s("1006"),Object(G["a"])(Hr,Br,Vr,!1,null,"f6a6e4fc",null)),Yr=zr.exports,Jr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("h3",[t._v("I am a tag idea by name component")]),s("div",{staticClass:"col col-md-2"},[s("section",{staticClass:"categs-space"},[s("app-categs")],1)]),s("div",{staticClass:"col col-md-8"},[s("app-idea",{attrs:{"api-url":t.apiUrl}})],1),s("div",{staticClass:"col col-md-2"},[s("section",{staticClass:"tags-space"},[s("app-tags")],1)])])])},Xr=[],Zr={name:"AppTagIdeas",components:{AppIdea:ca,AppTags:fa,AppCategs:Ls},computed:{tagName:function(){return this.$route.params.name},apiUrl:function(){return"/api/v1/tags-name/".concat(this.tagName,"/")}}},Qr=Zr,tn=Object(G["a"])(Qr,Jr,Xr,!1,null,null,null),en=tn.exports,sn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row mt-3"},[s("div",{staticClass:"col col-md-2"},[s("section",{},[s("app-categs")],1)]),s("div",{staticClass:"col col-md-8"},[s("app-idea",{attrs:{"api-url":t.apiUrl}})],1),s("div",{staticClass:"col col-md-2"},[s("section",{staticClass:"tags-space"},[s("app-tags")],1)])])])},an=[],rn={name:"AppCategIdeas",components:{AppIdea:ca,AppTags:fa,AppCategs:Ls},computed:{categSlug:function(){return this.$route.params.slug},apiUrl:function(){return"/api/v1/cats/".concat(this.categSlug,"/")}}},nn=rn,on=Object(G["a"])(nn,sn,an,!1,null,"226fcc8e",null),cn=on.exports,ln=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("h3",{staticClass:"mb-2 text-center mt-2"},[t._v("This is a main idea place")]),s("app-toggle-feed"),s("div",{staticClass:"row py-3"},[s("div",{staticClass:"col col-md-2 py-3 color"},[s("section",{staticClass:"categs-space"},[s("app-categs")],1)]),s("div",{staticClass:"col col-md-8 py-3"},[s("app-idea",{attrs:{"api-url":t.getApiUrl}})],1),s("div",{staticClass:"col col-md-2 py-3 color"},[s("section",{staticClass:"tags-space"},[s("app-tags")],1)])])],1)},un=[],dn={name:"AppPersonalFeed",components:{AppCategs:Ls,AppIdea:ca,AppTags:fa,AppToggleFeed:Ea},computed:Object(S["a"])(Object(S["a"])({},Object(T["b"])({currentUser:R["c"].currentUser})),{},{getApiUrl:function(){return"/api/v1/feed-ideas/".concat(this.currentUser.unid,"/")}})},mn=dn,pn=(s("85e8"),Object(G["a"])(mn,ln,un,!1,null,"dfbf5404",null)),fn=pn.exports,gn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.successMsg?s("div",{staticClass:"flesh-msg mt-3 mb-3"},[s("div",[t._v(t._s(t.successMsg))])]):t._e(),s("div",{staticClass:"row mx-auto  my-5 main-login"},[s("div",{staticClass:"col-xs-12 col-md-10 py-3 text-center offset-md-1"},[t.isLoading?s("app-loader"):t._e()],1),t.err500?s("div",{staticClass:"warn mb-3"},[s("div",{staticClass:"px-1"},[t._v(t._s(t.errMsg500))])]):t._e(),s("div",{staticClass:"col col-md-10 col-sm-6 py-3"},[s("h3",[t._v("Welcome back")]),s("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[s("b-form-group",{attrs:{id:"input-group-1",label:"Email","label-for":"input-1",description:"We'll never share your email with anyone else."}},[s("b-form-input",{class:{"is-invalid warning":this.$v.email.$error},attrs:{id:"input-1",autocomplete:"on",type:"email",placeholder:"Enter email"},on:{blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email="string"===typeof e?e.trim():e},expression:"email"}}),t.emailRequired?s("b-form-invalid-feedback",[t._v(t._s(t.fieldRequired)+" ")]):t._e(),t.inValidEmail?s("b-form-invalid-feedback",[t._v("This field should be a valid email")]):t._e()],1),t.emailErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.emailErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),s("div",{staticClass:"d-flex justify-content-between mb-2"},[s("div",[t._v("Password")]),s("div",[t._v("Show Password")])]),s("b-form-group",{staticClass:"psw-show",attrs:{id:"input-group-2"}},[s("label",{staticClass:"label-psw",attrs:{id:"input-group-2"}},[t._v("Password")]),s("b-form-input",{staticClass:"password",class:{"is-invalid warning":this.$v.psw.$error},attrs:{id:"input-2",type:t.showPassword?"text":"password",autocomplete:"off",placeholder:"Enter password"},on:{blur:function(e){return t.$v.psw.$touch()}},model:{value:t.psw,callback:function(e){t.psw="string"===typeof e?e.trim():e},expression:"psw"}}),s("button",{staticClass:"unmask",attrs:{type:"button",title:"Mask/Unmask password"},on:{click:t.toggleShowPws}},[t._v("Unmask")]),t.pswRequired?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v(t._s(t.fieldRequired)+" ")]):t._e()],1),t.pswErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.pswErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),t.nonFieldErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.nonFieldErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),t.netWorkErr?s("div",{staticClass:"warn mb-3"},[s("div",{staticClass:"px-1"},[t._v("Sorry. Our server has temporary problems.Please try to login later")])]):t._e(),t.unAuthorized?s("div",{staticClass:"warn mb-3"},[s("div",[t._v(t._s(t.unAuthorized))])]):t._e(),t.finalErr?s("div",{staticClass:"warn mb-3"},[s("div",[t._v("Something went wrong during login session.")])]):t._e(),s("b-row",[s("b-col",{attrs:{cols:"6"}},[s("b-button",{attrs:{type:"submit",disabled:t.formInValid,variant:"success"}},[t._v("Submit")])],1)],1),s("p",{staticClass:"mt-3"},[t._v("Not registed?"),s("span",{staticClass:"mute-link"},[s("router-link",{attrs:{to:{name:"signup"}}},[t._v(" Sign Up")])],1)]),s("p",{staticClass:"mt-3"},[t._v("Forgot your password?"),s("span",[s("router-link",{attrs:{to:{name:"resetForgotPsw"}}},[t._v(" Reset password")])],1)])],1)],1)])])},vn=[],hn={name:"AppLogin",components:{AppLoader:Rs},data:function(){return{user:{},email:"",psw:"",status:"",emailErr:null,pswErr:null,nonFieldErr:null,unAuthorized:null,finalErr:!1,successMsg:"",fieldRequired:"This field is required",showPassword:!1,errMsg500:"A server network error occured.Sorry about this - we will get it fixed shortly"}},validations:{email:{required:Sr["required"],email:Sr["email"]},psw:{required:Sr["required"]}},computed:Object(S["a"])({formInValid:function(){return this.$v.$invalid},pswRequired:function(){return this.$v.psw.$dirty&&!this.$v.psw.required},emailRequired:function(){return this.$v.email.$dirty&&!this.$v.email.required},inValidEmail:function(){return this.$v.email.$dirty&&!this.$v.email.email}},Object(T["c"])({isLoading:function(t){return t.auth.isLoading},err500:function(t){return t.auth.err500},netWorkErr:function(t){return t.auth.netWorkErr}})),methods:{onSubmit:function(){var t=this,e={email:this.email,password:this.psw};this.$store.dispatch(R["a"].login,e).then((function(e){console.log("got resp from store:",e),e.servDown?(console.log("serv down"),alert("Sorry.Network Error.No response from the server.Try to login later")):500===e.status?console.log("500 err"):200===e.status?(console.log("Login comp and status 200"),t.$store.dispatch(R["a"].getUser).then((function(e){console.log("do smth with this resp",e),e&&(console.log("status",e.status),t.successMsg="You have logged in",setTimeout((function(){t.$router.push({name:"home"})}),2e3))})).catch((function(t){console.log(t)}))):401===e.response.status?(console.log(Object.keys(e.response.data)),t.unAuthorized=e.response.data.detail):400===e.response.status&&(t.emailErr=e.response.data.email,t.pswErr=e.response.data.password)})).catch((function(t){console.log("catch in login component"),console.dir(t),alert("A server/network error occured.Sorry about this - we will get it fixed shortly. ")}))},toggleShowPws:function(){this.showPassword=!this.showPassword}},created:function(){this.$store.commit(R["d"].RESET_NETWORK_PROBELM),this.$store.commit(R["d"].RESET_STATUS_500)}},bn=hn,_n=(s("42dd"),Object(G["a"])(bn,gn,vn,!1,null,"17087330",null)),En=_n.exports,Cn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row mx-auto  my-5 main-signup",staticStyle:{"max-width":"800px"}},[s("div",{staticClass:"col col-md-12 col-sm-6 py-3"},[s("h3",[t._v("Register, please.")]),t.show?s("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[s("b-form-group",{staticClass:"required",attrs:{id:"input-group-1",description:"Username should be at least 2 chars long"}},[s("label",{staticClass:"control-label",attrs:{id:"input-group-1"}},[t._v("Username")]),s("b-form-input",{staticClass:"need",class:{"is-invalid warning":this.$v.username.$error,"form-control":!0},attrs:{id:"input-1",type:"text"},on:{blur:function(e){return t.$v.username.$touch()}},model:{value:t.username,callback:function(e){t.username="string"===typeof e?e.trim():e},expression:"username"}}),t.usernameRequired?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v(t._s(t.fieldRequired)+" ")]):t._e(),t.inValidUsernameMinLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("username should at most "+t._s(t.$v.username.$params.minLength.min)+" chars ")]):t._e(),t.inValidUsernameMaxLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("username should at most "+t._s(t.$v.username.$params.maxLength.max)+" chars ")]):t._e()],1),t.servResp.usernameErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.servResp.usernameErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),s("b-form-group",{staticClass:"required",attrs:{id:"input-group-2",description:"We'll never share your email with anyone else."}},[s("label",{staticClass:"control-label",attrs:{id:"input-group-2"}},[t._v("Email")]),s("b-form-input",{class:{"is-invalid warning":this.$v.email.$error},attrs:{id:"input-2",type:"email"},on:{blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email="string"===typeof e?e.trim():e},expression:"email"}}),t.emailRequired?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v(t._s(t.fieldRequired)+" ")]):t._e(),t.inValidEmail?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("This field should be a valid email")]):t._e()],1),t.servResp.emailErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.servResp.emailErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),s("div",{staticClass:"d-flex justify-content-between"},[s("div",{staticClass:"control-label"},[t._v("Password")]),s("div",{},[t._v("Show Password")])]),s("b-form-group",{staticClass:"required psw-show",attrs:{id:"input-group-12",description:"Password should contain at least one capital letter: (A-Z); at least one digit: 0-9; at least one special character (! @ $ % #) and be at least 6 chars long"}},[s("label",{staticClass:"control-label label-psw",attrs:{id:"input-group-12"}},[t._v("Password")]),s("b-form-input",{staticClass:"password",class:{"is-invalid warning":this.$v.psw.$error},attrs:{id:"input-12",type:t.showPassword?"text":"password",placeholder:"********",autocomplete:"off"},on:{blur:function(e){return t.$v.psw.$touch()}},model:{value:t.psw,callback:function(e){t.psw="string"===typeof e?e.trim():e},expression:"psw"}}),s("button",{staticClass:"unmask",attrs:{type:"button",title:"Mask/Unmask password"},on:{click:t.toggleShowPws}},[t._v("Unmask")]),t.checkSimilar?s("div",{staticClass:"mistake"},[s("div",[t._v(t._s(t.checkSimilar))])]):t._e(),t.inValidPswMinLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("password should at least "+t._s(t.$v.psw.$params.minLength.min)+" chars ")]):t._e(),t.inValidPswMaxLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("password should at most "+t._s(t.$v.psw.$params.maxLength.max)+" chars ")]):t._e(),t.$v.psw.$dirty&&t.inCorrectPsw?s("ul",{staticClass:"mistake"},t._l(t.inCorrectPsw,(function(e){return s("li",{key:e.id},[t._v(t._s(e))])})),0):t._e()],1),t.servResp.pswErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.servResp.pswErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),s("b-form-group",{staticClass:"required",attrs:{id:"input-group-4"}},[s("label",{staticClass:"control-label",attrs:{id:"input-group-4"}},[t._v("Confirm password")]),s("b-form-input",{class:{"is-invalid warning":this.$v.psw2.$error},attrs:{id:"input-4",type:"password",placeholder:"*******",autocomplete:"off"},on:{blur:function(e){return t.$v.psw2.$touch()}},model:{value:t.psw2,callback:function(e){t.psw2=e},expression:"psw2"}}),t.$v.psw2.$dirty&&!t.$v.psw2.sameAs?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("Passwords must be identical ")]):t._e()],1),t.servResp.nonFieldErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.servResp.nonFieldErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),t.servResp.netWorkErr?s("div",{staticClass:"warn mb-3"},[s("div",{staticClass:"px-1"},[t._v(t._s(t.servResp.netWorkErr))])]):t._e(),s("div",[s("b-form-checkbox",{staticClass:"control-label",attrs:{id:"checkbox-1",name:"checkbox-1",value:"accepted","unchecked-value":"not_accepted"},on:{blur:function(e){return t.$v.state.$touch()}},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t._v(" I accept the rules ")])],1),s("b-row",{staticClass:"text-center mt-4"},[s("b-col",{attrs:{cols:"6"}},[s("b-button",{attrs:{type:"submit",variant:"success",disabled:t.$v.$invalid&&t.$v.$error||!this.checkSelected}},[t._v("Save")])],1),s("b-col",{attrs:{cols:"6"}},[s("b-button",{attrs:{type:"reset",variant:"danger"},on:{click:t.getRidErr}},[t._v("Reset")])],1)],1)],1):t._e()],1),s("div",{staticClass:"d-flex justify-content-between"},[s("p",{staticClass:"mt-3"},[t._v(" Already have an account? "),s("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)])])])},wn=[],Sn={name:"AppSignUp",data:function(){return{show:!0,email:"",username:"",psw:"",psw2:"",status:"not accepted",servResp:{status:null,usernameErr:null,emailErr:null,pswErr:null,psw2Err:null,nonFieldErr:null,netWorkErr:null,err500:null},fieldRequired:"This field is required",showPassword:!1}},validations:{username:{required:Sr["required"],minLength:Object(Sr["minLength"])(2),maxLength:Object(Sr["maxLength"])(120)},email:{required:Sr["required"],email:Sr["email"]},psw:{required:Sr["required"],minLength:Object(Sr["minLength"])(8),maxLength:Object(Sr["maxLength"])(128)},psw2:{required:Sr["required"],minLength:Object(Sr["minLength"])(8),maxLength:Object(Sr["maxLength"])(128),sameAs:Object(Sr["sameAs"])("psw")}},computed:{usernameRequired:function(){return this.$v.username.$dirty&&!this.$v.username.required},inValidUsernameMinLen:function(){return this.$v.username.$dirty&&!this.$v.username.minLength},inValidUsernameMaxLen:function(){return this.$v.username.$dirty&&!this.$v.username.maxLength},emailRequired:function(){return this.$v.email.$dirty&&!this.$v.email.required},inValidEmail:function(){return this.$v.email.$dirty&&!this.$v.email.email},pswRequired:function(){return this.$v.psw.$dirty&&!this.$v.psw.required},inValidPswMinLen:function(){return this.$v.psw.$dirty&&!this.$v.psw.minLength},inValidPswMaxLen:function(){return this.$v.psw.$dirty&&!this.$v.psw.maxLength},inCorrectPsw:function(){var t=[];return this.$v.psw.$dirty?(!/(?=.*[A-Z])/.test(this.psw)&&t.push("Your passsword should have a capital letter"),!/(?=.*\d)/.test(this.psw)&&t.push("Your password should have a digit"),!/([!@$%#])/.test(this.psw)&&t.push("Your password should have a special chars like !@$%#"),t):t},checkSimilar:function(){var t="";if(!this.$v.psw.$dirty)return t;if(this.$v.psw.$dirty&&this.$v.email.$dirty){var e=this.email.split("@",1)[0].toLowerCase();return this.psw.toLowerCase().indexOf(e)>=0?(t="Email and password are too similar",t):t}},checkSelected:function(){return"accepted"==this.status}},methods:{onSubmit:function(){var t=this;console.log("statrting line 303"),this.$store.dispatch(R["a"].register,{email:this.email,username:this.username,password:this.psw,re_password:this.psw2}).then((function(e){console.log("resp in Singup.vue",e),201===e.status||200===e.status?t.$router.push({name:"confirmEmail"}):e.servDown?t.servResp.netWorkErr="Sorry. Our server is enduring some problems.Please try to create account later":400===e.status?(t.servResp.usernameErr=e.usernameErr,t.servResp.emailErr=e.emailErr,t.servResp.pswErr=e.pswErr,t.servResp.psw2Err=e.psw2Err,t.servResp.nonFieldErr=e.nonFieldErr):500===e.status?(console.log("server error 500"),t.servResp.netWorkErr="A server/network error occured.Sorry about this - we will get it fixed shortly."):404===e.status?(console.log("Page not found"),t.$router.push({name:"notFound"})):console.log("May be: Server can't be reach; check your internet connection, please")})).catch((function(t){console.log("unknown error during sign up",t),console.log(Object.keys(t))}))},toggleShowPws:function(){this.showPassword=!this.showPassword},getRidErr:function(){this.servResp.usernameErr=null,this.servResp.emailErr=null,this.servResp.pswErr=null,this.servResp.netWorkErr=null,this.servResp.err500=null}},created:function(){this.$store.commit(R["d"].RESET_NETWORK_PROBELM),this.$store.commit(R["d"].RESET_STATUS_500)}},Tn=Sn,Rn=(s("d938"),Object(G["a"])(Tn,Cn,wn,!1,null,"d1661d86",null)),On=Rn.exports,yn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"flash-msg"}),s("div",{staticClass:"row mx-auto  my-5 main-login"},[s("div",{staticClass:"col col-md-10 col-sm-6 py-3"},[s("b-form",{on:{submit:function(e){return e.preventDefault(),t.passwordForgotten.apply(null,arguments)}}},[s("b-form-group",{attrs:{id:"input-group-1",label:"Email","label-for":"input-1"}},[s("b-form-input",{class:{"is-invalid warning":this.$v.email.$error},attrs:{id:"input-1",type:"email",placeholder:"Enter email"},on:{blur:function(e){return t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email="string"===typeof e?e.trim():e},expression:"email"}}),t.emailRequired?s("b-form-invalid-feedback",[t._v(t._s(t.fieldRequired)+" ")]):t._e(),t.inValidEmail?s("b-form-invalid-feedback",[t._v("This field should be a valid email")]):t._e()],1),t.emailErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.emailErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),t.nonFieldErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.nonFieldErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),t.netWorkErr?s("div",{staticClass:"warn mb-3"},[s("div",{staticClass:"px-1"},[t._v("Sorry. Our server has temporary problems.Please try to login later")])]):t._e(),t.unAuthorized?s("div",{staticClass:"warn mb-3"},[s("div",[t._v(t._s(t.unAuthorized))])]):t._e(),t.personDoesNotExist?s("div",{staticClass:"warn mb-3"},[s("div",[t._v("Something went wrong. Please check your email address")])]):t._e(),t.finalErr?s("div",{staticClass:"warn mb-3"},[s("div",[t._v("Something went wrong during reset password.")])]):t._e(),t.successMsg?s("div",{staticClass:"flesh-msg mb-3"},[s("div",[t._v(t._s(t.successMsg))])]):t._e(),s("b-row",[s("b-col",{attrs:{cols:"6"}},[s("b-button",{attrs:{type:"submit",disabled:t.formInValid,variant:"success"}},[t._v("Submit")])],1)],1)],1),s("p",{staticClass:"mt-3"},[s("router-link",{attrs:{to:{name:"home"}}},[t._v("Home")])],1)],1)])])},xn=[],Ln=s("53ca"),An={name:"AppPswForgot",data:function(){return{email:"",psw:"",status:"",emailErr:null,nonFieldErr:null,netWorkErr:null,unAuthorized:null,finalErr:!1,personDoesNotExist:!1,successMsg:"",fieldRequired:"This field is required"}},validations:{email:{required:Sr["required"],email:Sr["email"]}},computed:{formInValid:function(){return this.$v.$invalid},emailRequired:function(){return this.$v.email.$dirty&&!this.$v.email.required},inValidEmail:function(){return this.$v.email.$dirty&&!this.$v.email.email}},methods:{passwordForgotten:function(){var t=this,e={email:this.email};console.log("type of data: ",Object(Ln["a"])(e.email)),console.log("data: ",e.email),this.$store.dispatch(R["a"].confirmEmailForgottenPsw,e).then((function(e){console.log("got resp from store:",e),204===e.status?(console.log("Login comp and status",e.status),t.$router.push({name:"confirmEmail"})):e&&400===e.status?(console.log("status 400 "),t.personDoesNotExist=!0):console.log("status rest != 204,!=400 but is",e)})).catch((function(e){console.log("catch in psw forgotten component ERROR",e.message),t.$router.push({name:"resetForgotPswFailure"})}))}}},kn=An,In=(s("c052"),Object(G["a"])(kn,yn,xn,!1,null,"443b1399",null)),$n=In.exports,jn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"messages row mb-2"},[t.errorMsg?s("div",{staticClass:"errorMsg col-md-12"},[t._v(" Error message: "+t._s(t.errorMsg)+" "),s("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"danger"}})],1):t._e(),t.pswResetFailure?s("div",{staticClass:"errorMsg col-md-12"},[t._v(" Link you are trying to use is not more available. "),s("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"danger"}})],1):t._e(),t.successMsg?s("div",{staticClass:"successMsg col-md-12"},[s("b-icon",{attrs:{icon:"three-dots",animation:"cylon","font-scale":"4"}}),t._v(" "+t._s(t.successMsg)+" "),s("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"info"}})],1):t._e()]),s("div",{staticClass:"row"},[s("div",{staticClass:"col col-md-10"},[s("div",{staticClass:"container"},[t.isLoading?s("div",[s("app-loader")],1):t._e(),s("div",{staticClass:"wrapper"},[s("h1",[t._v("Please, set your new password")]),s("b-form",{on:{submit:function(e){return e.preventDefault(),t.requestNewPassword.apply(null,arguments)}}},[s("div",{staticClass:"d-flex justify-content-between"},[s("div",[t._v("Password")]),s("div",[t._v("Show Password")])]),s("b-form-group",{staticClass:"required psw-show",attrs:{id:"input-group-3",description:"Password should contain at least one capital letter: (A-Z); at least one digit: 0-9; at least one special character (! @ $ % #) and be at least 6 chars long"}},[s("label",{staticClass:"control-label label-psw",attrs:{id:"input-group-3"}},[t._v("Password")]),s("b-form-input",{staticClass:"password",class:{"is-invalid warning":this.$v.psw.$error},attrs:{id:"input-3",type:t.showPassword?"text":"password"},on:{blur:function(e){return t.$v.psw.$touch()}},model:{value:t.psw,callback:function(e){t.psw="string"===typeof e?e.trim():e},expression:"psw"}}),s("button",{staticClass:"unmask",attrs:{type:"button",title:"Mask/Unmask password"},on:{click:t.toggleShowPws}},[t._v("Unmask ")]),t.inValidPswMinLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("password should at least "+t._s(t.$v.psw.$params.minLength.min)+" chars ")]):t._e(),t.inValidPswMaxLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("password should at most "+t._s(t.$v.psw.$params.maxLength.max)+" chars ")]):t._e(),t.$v.psw.$dirty&&t.inCorrectPsw?s("ul",{staticClass:"mistake"},t._l(t.inCorrectPsw,(function(e){return s("li",{key:e.id},[t._v(t._s(e))])})),0):t._e()],1),t.servResp.pswErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.servResp.pswErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),s("b-form-group",{staticClass:"required",attrs:{id:"input-group-4"}},[s("label",{staticClass:"control-label",attrs:{id:"input-group-4"}},[t._v("Confirm password")]),s("b-form-input",{class:{"is-invalid warning":this.$v.psw2.$error},attrs:{id:"input-4",type:"password",placeholder:"Repeat your password, please"},on:{blur:function(e){return t.$v.psw2.$touch()}},model:{value:t.psw2,callback:function(e){t.psw2=e},expression:"psw2"}}),t.$v.psw2.$dirty&&!t.$v.psw2.sameAs?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("Passwords must be identical ")]):t._e()],1),t.servResp.nonFieldErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.servResp.nonFieldErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),t.servResp.netWorkErr?s("div",{staticClass:"warn mb-3"},[s("div",{staticClass:"px-1"},[t._v(t._s(t.servResp.netWorkErr))])]):t._e(),s("b-row",{staticClass:"text-center mt-4"},[s("b-col",{attrs:{cols:"6"}},[s("b-button",{attrs:{type:"submit",variant:"success",disabled:t.$v.$invalid&&t.$v.$error}},[t._v("Submit")])],1),s("b-col",{attrs:{cols:"6"}},[s("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1)],1)],1)])])])])},Pn=[],Un={name:"AppPswReset",components:{AppLoader:Rs},data:function(){return{successMsg:"",errorMsg:"",oldLink:"Send a request to reset paswwrod again.Don't use old link in email box",psw:"",psw2:"",servResp:{status:"",pswErr:null,nonFieldErr:null,netWorkErr:null},fieldRequired:"This field is required",showPassword:!1}},validations:{psw:{required:Sr["required"],minLength:Object(Sr["minLength"])(8),maxLength:Object(Sr["maxLength"])(128)},psw2:{required:Sr["required"],minLength:Object(Sr["minLength"])(8),maxLength:Object(Sr["maxLength"])(128),sameAs:Object(Sr["sameAs"])("psw")}},computed:Object(S["a"])(Object(S["a"])({},Object(T["c"])({isLoading:function(t){return t.auth.isLoading},pswResetFailure:function(t){return t.auth.pswResetFailure}})),{},{pswRequired:function(){return this.$v.psw.$dirty&&!this.$v.psw.required},inValidPswMinLen:function(){return this.$v.psw.$dirty&&!this.$v.psw.minLength},inValidPswMaxLen:function(){return this.$v.psw.$dirty&&!this.$v.psw.maxLength},inCorrectPsw:function(){var t=[];return this.$v.psw.$dirty?(!/(?=.*[A-Z])/.test(this.psw)&&t.push("Your passsword should have a capital letter"),!/(?=.*\d)/.test(this.psw)&&t.push("Your password should have a digit"),!/([!@$%#])/.test(this.psw)&&t.push("Your password should have a special chars like !@$%#"),t):t}}),methods:{requestNewPassword:function(){var t=this,e=this.$route.params.uid,s=this.$route.params.token;this.$store.dispatch(R["a"].setNewPswAfterForget,{uid:e,token:s,psw:this.psw,psw2:this.psw2}).then((function(e){console.log("activate view got resp",e),204===e.status&&(console.log("new psw created, re-directing to login"),t.successMsg="New password is is succesfully created, go to login",setTimeout((function(){t.$router.push({name:"login"})}),5e3))})).catch((function(e){t.errorMsg="Something went wrong.Please contact us to clearify the problem",console.log("err",e)}))},toggleShowPws:function(){this.showPassword=!this.showPassword}}},Fn=Un,Nn=(s("40bb"),Object(G["a"])(Fn,jn,Pn,!1,null,"0c1de9ba",null)),Mn=Nn.exports,Dn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"messages row mb-2 mt-4"},[t.errorMsg?s("div",{staticClass:"errorMsg col-md-12"},[t._v(" Error message: "+t._s(t.errorMsg)+" "),s("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"danger"}})],1):t._e(),t.successMsg?s("div",{staticClass:"successMsg col-md-12"},[s("b-icon",{attrs:{icon:"three-dots",animation:"cylon","font-scale":"4"}}),t._v(" "+t._s(t.successMsg)+" "),s("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"info"}})],1):t._e()]),s("div",{staticClass:"row"},[s("div",{staticClass:"col col-md-10"},[s("div",{staticClass:"container"},[t.isLoading?s("div",[s("app-loader")],1):t._e(),s("div",{staticClass:"wrapper"},[s("h1",[t._v("Change you password:")]),s("b-form",{on:{submit:function(e){return e.preventDefault(),t.requestNewPassword.apply(null,arguments)}}},[s("div",{staticClass:"d-flex justify-content-between"},[s("div",{staticClass:"control-label"},[t._v("Current Password")]),s("div",[t._v("Show Password")])]),s("b-form-group",{staticClass:"required psw-show",attrs:{id:"input-group-2"}},[s("label",{staticClass:"label-psw",attrs:{id:"input-group-2"}},[t._v("Current password")]),s("b-form-input",{staticClass:"search-text password",class:{"is-invalid warning":this.$v.currentPsw.$error},attrs:{id:"input-2",autocomplete:"off",type:t.showPassword?"text":"password"},on:{blur:function(e){return t.$v.currentPsw.$touch()}},model:{value:t.currentPsw,callback:function(e){t.currentPsw="string"===typeof e?e.trim():e},expression:"currentPsw"}}),s("button",{staticClass:"unmask",attrs:{type:"button",title:"Mask/Unmask password"},on:{click:t.toggleShowPws}},[t._v("Unmask")]),t.currentPswRequired?s("b-form-invalid-feedback",[t._v(t._s(t.fieldRequired)+" ")]):t._e(),t.servErr.currentPsw?s("div",{staticClass:"errMsg"}):t._e(),t.servErr.currentPsw?s("div",{staticClass:"warn"},[s("ul",t._l(t.servErr.currentPsw,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e()],1),s("div",{staticClass:"d-flex justify-content-between"},[s("div",{staticClass:"control-label"},[t._v("New Password")]),s("div",[t._v("Show Password")])]),s("b-form-group",{staticClass:"required psw-show",attrs:{id:"input-group-3",description:"Password should contain at least one capital letter: (A-Z); at least one digit: 0-9; at least one special character (! @ $ % #) and be at least 6 chars long"}},[s("label",{staticClass:"label-psw",attrs:{id:"input-group-3"}},[t._v("New Password")]),s("b-form-input",{staticClass:"password",class:{"is-invalid warning":this.$v.newPsw.$error},attrs:{id:"input-3",autocomplete:"off",type:t.showPassword?"text":"password"},on:{blur:function(e){return t.$v.newPsw.$touch()}},model:{value:t.newPsw,callback:function(e){t.newPsw="string"===typeof e?e.trim():e},expression:"newPsw"}}),s("button",{staticClass:"unmask",attrs:{type:"button",title:"Mask/Unmask password"},on:{click:t.toggleShowPws}},[t._v("Unmask")]),t.inValidPswMinLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("password should at least "+t._s(t.$v.newPsw.$params.minLength.min)+" chars ")]):t._e(),t.inValidPswMaxLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("password should at most "+t._s(t.$v.newPsw.$params.maxLength.max)+" chars ")]):t._e(),t.newPswRequired?s("b-form-invalid-feedback",[t._v(t._s(t.fieldRequired)+" ")]):t._e(),t.$v.newPsw.$dirty&&t.inCorrectPsw?s("ul",{staticClass:"mistake"},t._l(t.inCorrectPsw,(function(e){return s("li",{key:e.id},[t._v(t._s(e))])})),0):t._e()],1),t.servErr.newPsw?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.servErr.newPsw,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),s("b-form-group",{staticClass:"required",attrs:{id:"input-group-4"}},[s("label",{staticClass:"control-label",attrs:{id:"input-group-4"}},[t._v("Confirm new password")]),s("b-form-input",{class:{"is-invalid warning":this.$v.newPsw2.$error},attrs:{id:"input-4",type:"password",placeholder:"Repeat your password, please",autocomplete:"off"},on:{blur:function(e){return t.$v.newPsw2.$touch()}},model:{value:t.newPsw2,callback:function(e){t.newPsw2="string"===typeof e?e.trim():e},expression:"newPsw2"}}),t.$v.newPsw2.$dirty&&!t.$v.newPsw2.sameAs?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("Passwords must be identical ")]):t._e(),t.newPsw2Required?s("b-form-invalid-feedback",[t._v(" "+t._s(t.fieldRequired)+" ")]):t._e()],1),t.servErr.newPsw2?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.servErr.newPsw2,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),t.servErr.nonFieldErr?s("div",{staticClass:"warn mb-1"},[s("ul",t._l(t.servErr.nonFieldErr,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),t.servErr.servDown?s("div",{staticClass:"errorMsg col-md-12 mb-3"},[t._v(" Error message: "+t._s(t.servDownMsg)+" "),s("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"danger"}})],1):t._e(),t.tokenExp?s("div",{staticClass:"errorMsg col-md-12 mb-3"},[s("div",{staticClass:"px-1"},[t._v(t._s(t.unauthMsg))])]):t._e(),s("b-row",{staticClass:"text-center mt-4"},[s("b-col",{attrs:{cols:"6"}},[s("b-button",{attrs:{type:"submit",variant:"success",disabled:t.formInValid}},[t._v("Submit")])],1),s("b-col",{attrs:{cols:"6"}},[s("router-link",{attrs:{to:{name:"home"}}},[s("b-button",{attrs:{variant:"primary"}},[t._v("Home")])],1)],1)],1)],1)],1)])])])])},Gn=[],Wn={name:"AppChangePsw",components:{AppLoader:Rs},data:function(){return{successMsg:"",errorMsg:"",currentPsw:"",newPsw:"",newPsw2:"",fieldRequired:"This field is required",showPassword:!1,servErr:{},servDownMsg:'Sorry. Our server"s exper temp problems.Try again a little bit later',tokenExp:!1,unauthMsg:"Sorry your login session is expired.Please login agaon"}},validations:{currentPsw:{required:Sr["required"]},newPsw:{required:Sr["required"],minLength:Object(Sr["minLength"])(8),maxLength:Object(Sr["maxLength"])(128)},newPsw2:{required:Sr["required"],minLength:Object(Sr["minLength"])(8),maxLength:Object(Sr["maxLength"])(128),sameAs:Object(Sr["sameAs"])("newPsw")}},computed:Object(S["a"])(Object(S["a"])({},Object(T["c"])({isLoading:function(t){return t.auth.isLoading}})),{},{formInValid:function(){return this.$v.$invalid},currentPswRequired:function(){return this.$v.currentPsw.$dirty&&!this.$v.currentPsw.required},newPswRequired:function(){return this.$v.newPsw.$dirty&&!this.$v.newPsw.required},newPsw2Required:function(){return this.$v.newPsw2.$dirty&&!this.$v.newPsw2.required},inValidPswMinLen:function(){return this.$v.newPsw.$dirty&&!this.$v.newPsw.minLength},inValidPswMaxLen:function(){return this.$v.newPsw.$dirty&&!this.$v.newPsw.maxLength},inCorrectPsw:function(){var t=[];return this.$v.newPsw.$dirty?(!/(?=.*[A-Z])/.test(this.newPsw)&&t.push("Your passsword should have a capital letter"),!/(?=.*\d)/.test(this.newPsw)&&t.push("Your password should have a digit"),!/([!@$%#])/.test(this.newPsw)&&t.push("Your password should have a special chars like !@$%#"),t):t}}),methods:{requestNewPassword:function(){var t=this;this.$store.dispatch(R["a"].setNewPswAChange,{currentPsw:this.currentPsw,newPsw:this.newPsw,newPsw2:this.newPsw2}).then((function(e){e.servDown?t.servDown=!0:204===e.status?(console.log("new psw created, re-directing to login"),t.successMsg="Your password has been  succesfully changed",setTimeout((function(){t.$router.push({name:"home"})}),5e3)):401===e.status?(console.log("status 401 unauth-ed",e.status),t.tokenExp=!0):400===e.status&&(console.log("status 400 calling",e),t.servErr=e)})).catch((function(e){t.errorMsg="Something went wrong during password change. Be sure that you use a correct current"}))},toggleShowPws:function(){this.showPassword=!this.showPassword}}},qn=Wn,Bn=(s("2b31"),Object(G["a"])(qn,Dn,Gn,!1,null,"38afba24",null)),Vn=Bn.exports,Kn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row mt-4"},[s("div",{staticClass:"col col-md-10 col-sm-10"},[s("div",{staticClass:"container"},[s("div",{staticClass:"wrapper"},[t.netWorkErr?s("h5",[t._v(" Our server is enduring some problems.Sorry about this - we will get it fixed shortly. ")]):t._e(),t.incorrectEmail?s("h5",[t._v("Sorry, something went wrong during password reset proccess. Check whether your email address correct. "),t._v(" If you need help, please contact us : support@mail.com ")]):t._e(),s("p",{staticClass:"mt-3"},[t._v(" Home "),s("router-link",{attrs:{to:{name:"home"}}},[t._v("back to home")])],1)])])])])])},Hn=[],zn={name:"AppPswRestFailure",computed:{computed:Object(S["a"])({},Object(T["c"])({isLoading:function(t){return t.auth.isLoading},netWorkErr:function(t){return t.auth.netWorkErr},incorrectEmail:function(t){return t.auth.incorrectEmail}}))}},Yn=zn,Jn=(s("b58e"),Object(G["a"])(Yn,Kn,Hn,!1,null,"97e7dcd0",null)),Xn=Jn.exports,Zn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"row min-vh-100 mt-1"},[s("div",{staticClass:"col-md-10 min-vh-100 mx-auto p-0"},[s("div",{staticClass:"d-flex align-items-center \n                    justify-content-center \n                    flex-column\n                    text-center\n                    min-vh-100\n                    custom-wrap"},[s("div",[t.noImgShow?t._e():s("div",[s("img",{staticClass:"rounded-circle img-w",attrs:{src:t.profile.image,alt:"profile image"}})]),t.noImgShow?s("div",[s("b-avatar",{attrs:{size:"144px"}})],1):t._e()]),s("h1",{staticClass:"display-4"},[t._v("Profile: "+t._s(t.profile.name))]),s("div",{staticClass:"d-flex justify-content-between col-md-12 p-4"},[t.profile.count_following?s("div",{staticClass:"d-flex flex-column"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"m-1  btn-light"},[t._v(" Follows "+t._s(t.profile.count_following)+" "),s("b-icon-diagram2-fill")],1),s("b-collapse",{attrs:{id:"collapse-1"}},t._l(t.profile.following,(function(e){return s("b-card",{key:e.id},[s("router-link",{staticClass:"link-decor",attrs:{to:{name:"profile",params:{id:e.id}}}},[t._v(" "+t._s(e.username)+"Â Â Â  "),s("b-avatar",{attrs:{size:"sm"}})],1)],1)})),1)],1):t._e(),t.profile.followers?s("div",{staticClass:"d-flex flex-column"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-2",modifiers:{"collapse-2":!0}}],staticClass:"m-1  btn-light"},[t._v(" Followed "+t._s(t.profile.count_followers)+" "),s("b-icon-diagram2")],1),s("b-collapse",{attrs:{id:"collapse-2"}},t._l(t.profile.followers,(function(e){return s("b-card",{key:e.id},[s("router-link",{staticClass:"link-decor",attrs:{to:{name:"profile",params:{id:e.user_id}}}},[t._v(" "+t._s(e.username)+" Â Â Â "),s("b-avatar",{attrs:{size:"sm"}})],1)],1)})),1)],1):t._e()]),s("p",{staticClass:"mb-3 lead"},[s("strong",[t._v("Bio: ")]),t._v(" "+t._s(t.profile.bio)+"Lorem ipsum dolor sit amet consectetur adipisicing elit. Cum itaque nam ipsa, officia fugiat maxime molestiae voluptas explicabo error, expedita autem suscipit, accusamus eligendi obcaecati corrupti culpa veniam eos nesciunt. ")]),t.profile.website?s("p",[t._v("Website: "+t._s(t.profile.website))]):t._e(),t.profile.image?s("p",{staticClass:"lead px-2"},[s("strong",[t._v("Website:")]),t._v(t._s(t.profile.website))]):t._e(),s("button",{staticClass:"btn btn-success btn-lg",attrs:{type:"button"}},[t._v(" Contact ")]),s("div",{staticClass:"errMsgs mt-3"},[t.serErr500?s("div",{staticClass:"warn"},[t._v(t._s(t.errMsg500))]):t._e()]),s("div",{staticClass:" mt-2"},[t.netWorkErr?s("div",{staticClass:"warn"},[t._v(t._s(t.netWorkMsgErr))]):t._e()])])])])},Qn=[],ti={name:"ProfileDetail",data:function(){return{profile:{},netWorkErr:null,netWorkMsgErr:"A network error occured.Sorry about this - we will get it fixed shortly",serErr500:null,errMsg500:"A server network error occured.Sorry about this - we will get it fixed shortly"}},methods:{showProfile:function(){var t=this;this.$store.dispatch(A.retrieveProfile,this.$route.params.id).then((function(e){if(e.servDown)t.netWorkErr=!0;else{var s=e.status;200===s?(console.log("status 200",s),t.profile=e.data):500===s&&(console.log("ser error 500"),t.serErr500=!0)}})).catch((function(t){return console.log("final err",t)}))}},created:function(){this.showProfile()},computed:{noImgShow:function(){return null===this.profile.image},currentPath:function(){return this.$route.path}},watch:{currentPath:function(){this.showProfile()}}},ei=ti,si=(s("5017"),Object(G["a"])(ei,Zn,Qn,!1,null,"1402c473",null)),ai=si.exports,ri=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.profile?s("section",{staticClass:"row min-vh-100 px-2"},[s("div",{staticClass:"col-xs-12 col-md-10 py-3 text-center offset-md-1"},[t.isLoading?s("app-loader"):t._e()],1),t.error?s("div",{staticClass:"warn mb-3"},[s("div",{staticClass:"px-1"},[t._v(t._s(t.errorMsg))])]):t._e(),t.err500?s("div",{staticClass:"warn mb-3"},[s("div",{staticClass:"px-1"},[t._v(t._s(t.errMsg500))])]):t._e(),t.netWorkErr?s("div",{staticClass:"warn mb-3"},[s("div",{staticClass:"px-1"},[t._v(t._s(t.netWorkMsgErr))])]):t._e(),s("ul",{staticClass:"nav nav-tabs"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link disabled",attrs:{href:"#"}},[s("b-avatar",{attrs:{size:"48px"}})],1)]),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"editProfile",params:{unid:t.profile.unid}},"active-class":"active"}},[t._v("Edit Profile ")])],1)]),t.profile?s("div",{staticClass:"col-md-8 min-vh-100 mx-auto"},[s("div",{staticClass:"d-flex align-items-center \r\n                    justify-content-center \r\n                    flex-column\r\n                    text-center\r\n                    min-vh-100\r\n                    "},[s("div",[t.noImgShow?t._e():s("div",[s("img",{staticClass:"img-thumbnail",attrs:{src:t.profile.image,alt:"profile image"}})]),t.noImgShow?s("div",[s("b-avatar",{attrs:{size:"48px"}})],1):t._e()]),s("h1",{staticClass:"display-4"},[t._v("Profile: "+t._s(t.profile.name))]),s("div",{staticClass:"d-flex justify-content-between col-md-12"},[s("button",{staticClass:"btn-light m-1 rounded-corner",attrs:{"data-toggle":"tooltip","data-placement":"right",title:"Edit list"},on:{click:t.showFollowing}},[s("b-icon-pencil-square")],1),s("button",{staticClass:"btn-light m-1 rounded-corner",attrs:{"data-toggle":"tooltip","data-placement":"left",title:"Edit list"},on:{click:t.showFollowers}},[s("b-icon-eyeglasses")],1)]),s("div",{staticClass:"d-flex justify-content-between col-md-12"},[t.profile.count_following?s("div",{staticClass:"d-flex flex-column"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"mb-1 btn-light"},[t._v(" Following: "+t._s(t.profile.count_following)+" "+t._s(t.presentCountFollowing)+" "),s("b-icon-person-plus-fill")],1),s("b-collapse",{attrs:{id:"collapse-1"}},t._l(t.profile.following,(function(e){return s("b-card",{key:e.id,staticClass:"mb-1 mt-1"},[s("router-link",{staticClass:"link-decor",attrs:{to:{name:"profile",params:{id:e.id}}}},[t._v(" "+t._s(e.username)+" ")])],1)})),1)],1):s("div",[s("p",[t._v("Your are not following any author")])]),t.profile.count_followers?s("div",{staticClass:"d-flex flex-column"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-2",modifiers:{"collapse-2":!0}}],staticClass:"m-1  btn-light"},[t._v(" Followed by: "+t._s(t.profile.count_followers)+" "+t._s(t.presentCountFollowers)+" "),s("b-icon-person-plus-fill")],1),s("b-collapse",{attrs:{id:"collapse-2"}},t._l(t.profile.followers,(function(e){return s("b-card",{key:e.id,staticClass:"mt-1"},[s("router-link",{staticClass:"link-decor",attrs:{to:{name:"profile",params:{id:e.user_id}}}},[t._v(" "+t._s(e.username)+" (temp var: "+t._s(e.user_id)+") ")])],1)})),1)],1):s("div",[s("p",[t._v("No followers yet.")])])]),s("div",{staticClass:"d-flex align-items-start  flex-column text-left "},[s("p",{staticClass:"lead px-2"},[s("strong",[t._v("Bio: ")]),t._v(" "+t._s(t.profile.bio)+"Where am ILorem ipsum dolor sit amet consectetur adipisicing elit. Cum itaque nam ipsa, officia fugiat maxime molestiae voluptas explicabo error, expedita autem suscipit, accusamus eligendi obcaecati corrupti culpa veniam eos nesciunt. ")]),t.profile.website?s("p",{staticClass:"lead px-2"},[s("strong",[t._v("Website:")]),t._v(t._s(t.profile.website))]):t._e(),t.profile.image?s("p",{staticClass:"lead px-2"},[s("strong",[t._v("Website:")]),t._v(t._s(t.profile.website))]):t._e()]),s("router-link",{attrs:{to:{name:"editProfile",params:{unid:t.profile.unid}}}},[s("button",{staticClass:"btn btn-secondary btn-lg",attrs:{type:"button"}},[t._v("Edit ")])])],1)]):t._e()]):t._e(),t.profile?t._e():s("div",{staticClass:"is-danger not-welcome"},[t._v("You are not allowed to see this page")])])},ni=[],ii={name:"AccountProfile",data:function(){return{netWorkMsgErr:"A network error occured.Sorry about this - we will get it fixed shortly",errMsg500:"A server network error occured.Sorry about this - we will get it fixed shortly",errorMsg:"Something went wrong, probably you session has been expired and you need to login again",strAmountFollowers:null}},components:{AppLoader:Rs},computed:Object(S["a"])(Object(S["a"])(Object(S["a"])({},Object(T["b"])({profile:I.currentProfile})),Object(T["c"])({isLoading:function(t){return t.profile.isLoading},error:function(t){return t.profile.error},err500:function(t){return t.profile.err500},netWorkErr:function(t){return t.profile.netWorkErr}})),{},{noImgShow:function(){return null===this.profile.image},presentCountFollowers:function(){return 1===this.profile.count_followers?"person":"persons"},presentCountFollowing:function(){return 1===this.profile.count_following?"person":"persons"}}),methods:{showFollowing:function(){console.log("display list of following"),this.$router.push({name:"followList"})},showFollowers:function(){console.log("display my followers")}}},oi=ii,ci=(s("26d9"),Object(G["a"])(oi,ri,ni,!1,null,"1483e566",null)),li=ci.exports,ui=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container py-md-5 py-4"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col col-md-10 py-2 mx-auto"},[t.profile?s("div",{staticClass:"card mb-3 p-2",staticStyle:{width:"56rem"}},[s("h1",[t._v("Change your profile,")]),s("div",{staticClass:"card-body"},[s("b-form",{ref:"profileSubmitForm",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[s("b-form-group",{attrs:{id:"input-group-1",label:"Your Web Site:","label-for":"input-1"}},[s("b-form-input",{class:{"is-invalid warning":this.$v.website.$error},attrs:{id:"input-1",placeholder:"Enter website address"},on:{blur:function(e){return t.$v.website.$touch()}},model:{value:t.website,callback:function(e){t.website=e},expression:"website"}}),t.inValidWebsiteNotUrl?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("Enter a valid url,please ")]):t._e(),t.inValidWebsiteMaxLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("Lead text should at most "+t._s(t.$v.website.$params.maxLength.max)+" chars ")]):t._e()],1),t.servResp.websiteErrs?s("div",[s("ul",t._l(t.servResp.websiteErrs,(function(e){return s("li",{key:e.id,staticClass:"warning"},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),s("b-form-group",{attrs:{id:"input-group-2",label:"Bio :","label-for":"input-2"}},[s("b-form-input",{class:{"is-invalid warning":this.$v.bio.$error},attrs:{id:"input-2",placeholder:"Bio"},on:{blur:function(e){return t.$v.bio.$touch()}},model:{value:t.bio,callback:function(e){t.bio="string"===typeof e?e.trim():e},expression:"bio"}}),t.inValidBioMaxLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("Lead text should at most "+t._s(t.$v.bio.$params.maxLength.max)+" chars ")]):t._e()],1),t.servResp.bioErrs?s("div",[s("ul",t._l(t.servResp.bioErrs,(function(e){return s("li",{key:e.id,staticClass:"warning"},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),s("b-form-group",{attrs:{id:"input-group-5",label:"Upload File"}},[s("div",{staticClass:"file-wrap"},[s("label",{staticClass:"file-select mr-sm-2"},[s("div",{staticClass:"select-button"},[t.image&&t.image.name?s("span",[t._v("Current file: "+t._s(t.image.name))]):t._e(),t.image&&!t.image.name?s("span",[t._v("Current file: "+t._s(t.getShortName))]):t._e(),t.image?t._e():s("span",[t._v("Select File")])]),s("input",{ref:"file",attrs:{id:"image",type:"file",accept:".jpg,.jpeg,.png"},on:{change:t.onFileChange,click:t.clearCheckboxUploadFile}})]),s("span",{staticClass:"clearable-file-input"},[s("label",{staticClass:"text-mute"},[t._v("Remove file "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],ref:"check",attrs:{id:"checkbox_img",type:"checkbox",name:"image_clear"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:[function(e){var s=t.checked,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n=null,i=t._i(s,n);a.checked?i<0&&(t.checked=s.concat([n])):i>-1&&(t.checked=s.slice(0,i).concat(s.slice(i+1)))}else t.checked=r},t.detachFile]}})])])]),s("p",{staticClass:"text-mute"},[t._v("Allowed images with extentions: .png,.jpg/.jpeg")]),t.localErr?s("div",{staticClass:"msg mb-2 py-2",class:t.localErr?"is-danger":"is-success"},[t.alertHeavyFile?s("div",{staticClass:"msg-body"},[t._v(t._s(t.heavyFileMsg))]):t._e(),t.formatNotAllowed?s("div",{staticClass:"msg-body mb-1"},[t._v(" Only images are allowed ")]):t._e(),s("b-button",{staticClass:"mt-2",on:{click:t.userSawErrors}},[t._v("initial state")])],1):t._e()]),s("b-button",{staticClass:"btn btn-secondary",attrs:{type:"submit",disabled:t.submitButDisable}},[t._v("Edit It")])],1),t.servResp.netWorkErr?s("div",{staticClass:"warning mb-3 mt-3"},[s("div",{staticClass:"px-1"},[t._v(t._s(t.servResp.netWorkErr))])]):t._e()],1)]):t._e(),t.profile?t._e():s("div",{staticClass:"is-danger not-welcome"},[t._v("You are not allowed to see this page")])])])])},di=[],mi={name:"ProfileEdit",data:function(){var t;return t={bio:"",image:"",checked:!1,website:""},Object(O["a"])(t,"checked",!1),Object(O["a"])(t,"localErr",!1),Object(O["a"])(t,"formatNotAllowed",!1),Object(O["a"])(t,"resizedImage",null),Object(O["a"])(t,"alertHeavyFile",null),Object(O["a"])(t,"heavyFileMsg",null),Object(O["a"])(t,"browserFileUploadMsg",null),Object(O["a"])(t,"servResp",{status:null,bioErrs:null,imageErrs:null,websiteErrs:null,netWorkErr:null}),t},validations:{bio:{maxLength:Object(Sr["maxLength"])(2048)},website:{url:Sr["url"],maxLength:Object(Sr["maxLength"])(120)}},computed:Object(S["a"])(Object(S["a"])(Object(S["a"])({},Object(T["c"])({profile:function(t){return t.profile.data},isLoading:function(t){return t.profile.isLoading},error:function(t){return t.profile.error}})),Object(T["b"])({currentUser:R["c"].currentUser})),{},{getShortName:function(){return wr(this.image)},formInValid:function(){return this.$v.$invalid},submitButDisable:function(){return this.formInValid||this.alertHeavyFile||this.formatNotAllowed},inValidBioMaxLen:function(){return this.$v.bio.$dirty&&!this.$v.bio.maxLength},inValidWebsiteMaxLen:function(){return this.$v.website.$dirty&&!this.$v.website.maxLength},inValidWebsiteNotUrl:function(){return this.$v.website.$dirty&&!this.$v.website.url}}),methods:{onSubmit:function(){var t=this,e=this.currentUser.unid,s=new FormData;s.append("bio",this.bio),s.append("website",this.website),""!==this.image?s.append("image",this.image):s.append("image",""),this.$store.dispatch(A.editPersonalInfo,{unid:e,profileData:s}).then((function(s){console.log("from store resp",s),200===s.status?t.$router.push({name:"accountProfile",params:{unid:e}}):s.servDown?t.servResp.netWorkErr="Sorry. Our server is enduring some problems.Please try later":500===s.status?t.servResp.netWorkErr="A server/network error occured.Sorry about this - we will get it fixed shortly.":(console.log("errror 400?",s.status),t.servResp.status=s.status,t.servResp.websiteErrs=s.websiteErr,t.servResp.imageErrs=s.imageErr,t.servResp.bioErrs=s.bioErr)})).catch((function(t){console.log("final error",t)}))},onFileChange:function(){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function e(){var s,a,r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("file changing"),t.$refs.check.checked=!1,t.browserFileUploadMsg="",console.log("inital path to uploaded img is:",t.$refs.file.value),s=t.$refs.file.files[0],a=["image/jpeg","image/png","image/jpg"],r=2e6,n=s.size>r,!a.includes(s.type)||n){e.next=18;break}return t.image=s,console.log("ready to send img",t.image.size),console.log("path to file is:",t.$refs.file.value),e.next=14,Er(t.image);case 14:i=e.sent,t.image=new File([i],t.image.name),e.next=21;break;case 18:t.localErr=!0,n&&(t.alertHeavyFile=!0,t.heavyFileMsg="File too large.MAX sise is ".concat(r/1e3,"kB")),a.includes(s.type)||(t.formatNotAllowed=!0);case 21:case"end":return e.stop()}}),e)})))()},clearCheckboxUploadFile:function(){console.log("clear checkbox upload"),this.$refs.check.checked=!1},detachFile:function(){console.log("checkbox clicked so detach file"),this.$refs.file.value="",console.log("done,after detachment image path is:",this.$refs.file.value),this.localErr=!1,this.image="",this.resizedImage=null},userSawErrors:function(){this.alertHeavyFile=!1,this.formatNotAllowed=!1,this.localErr=!1}},created:function(){var t=this.profile;this.website=t.website,this.bio=t.bio,this.image=t.image}},pi=mi,fi=(s("a097"),Object(G["a"])(pi,ui,di,!1,null,"519aedc8",null)),gi=fi.exports,vi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"messages row mb-2 mt-4"},[t.errorMsg?s("div",{staticClass:"errorMsg col-md-12"},[t._v(" Error message: "+t._s(t.errorMsg)+" "),s("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"danger"}})],1):t._e(),t.successMsg?s("div",{staticClass:"successMsg col-md-12 mt-5 mb-3"},[s("p",[t._v(t._s(t.successMsg))])]):t._e()]),s("div",{staticClass:"row"},[s("div",{staticClass:"col col-md-10"},[s("div",{staticClass:"container"},[t.isLoading?s("div",[s("app-loader")],1):t._e(),s("div",{staticClass:"wrapper"},[s("h2",[t._v("Do you really want to delete your account?")]),s("b-form",{on:{submit:function(e){return e.preventDefault(),t.requestDeleteAccount.apply(null,arguments)}}},[s("div",{staticClass:"d-flex justify-content-between"},[s("b-col",{attrs:{cols:"6"}},[s("b-button",{attrs:{type:"submit",variant:"outline-danger"}},[t._v("Yes, delete my account")])],1),s("b-col",{attrs:{cols:"6"}},[s("router-link",{staticClass:"btn btn-outline-success",attrs:{to:{name:"home"}}},[t._v("No")])],1)],1),t.servErr.currentPsw?s("div",{staticClass:"errMsg"}):t._e(),t.servErr.currentPsw?s("div",{staticClass:"warn"},[s("ul",t._l(t.servErr.currentPsw,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e)+" ")])})),0)]):t._e(),t.servErr.servDown?s("div",{staticClass:"warn col-md-12 mb-3 mt-5"},[t._v(" Error message: "+t._s(t.servDownMsg)+" "),s("b-icon",{attrs:{icon:"exclamation-circle-fill",variant:"danger"}})],1):t._e(),t.tokenExp?s("div",{staticClass:"errorMsg col-md-12 mb-3"},[s("div",{staticClass:"px-1"},[t._v(t._s(t.unauthMsg))])]):t._e()])],1)])])])])},hi=[],bi={name:"AppDeleteAccount",components:{AppLoader:Rs},data:function(){return{successMsg:"",errorMsg:"",currentPsw:"",servErr:{servDown:!1},servDownMsg:'Sorry. Our server"s exper temp problems.Try again a little bit later',tokenExp:!1,unauthMsg:"Sorry your login session is expired.Please login again"}},computed:Object(S["a"])(Object(S["a"])({},Object(T["c"])({isLoading:function(t){return t.auth.isLoading}})),Object(T["b"])({currentUser:R["c"].currentUser})),methods:{requestDeleteAccount:function(){var t=this,e=this.currentUser.unid;console.log("data line 114: del account",e),this.$store.dispatch(R["a"].deleteAccount,e).then((function(e){if(console.log("in  vue",e),e.servDown)console.log("dj serv is down, see rr?"),t.servErr.servDown=!0;else if(204===e.status)console.log("account deleted, re-directing to home"),t.successMsg="Your account has been deleted",t.$store.commit(R["d"].CLEAR_CREDS),console.log("Ls clean"),setTimeout((function(){t.$router.push({name:"home"}),window.location.reload()}),1e3);else if(401===e.status)console.log("status 401 unauth-ed",e.status),t.tokenExp=!0;else{if(403===e.status)return console.log("status 403.Forbidden"),void(t.errorMsg="Permission denied");400===e.status&&(console.log("status 400 calling",e.status),t.servErr.currentPsw=e.pswErr)}})).catch((function(e){console.log(Object.keys(e)),console.log("final err",e),t.errorMsg="Something went wrong during password change.Please try a little bit later"}))}}},_i=bi,Ei=(s("7561"),Object(G["a"])(_i,vi,hi,!1,null,"29a18db5",null)),Ci=Ei.exports,wi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("h3",{staticClass:"mb-4 mt-4 text-center"},[t._v("Manage your list")]),t.profile?s("div",{staticClass:"row py-3"},[s("div",{staticClass:"col col-md-6 py-3"},[t.profile.following.length>0?s("section",{},[s("h4",[t._v("You are following "),s("b-badge",[t._v("New")])],1),t.profile?s("div",t._l(t.profile.following,(function(e,a){return s("b-card",{key:a,staticClass:"mb-2"},[s("div",{staticClass:"d-flex flex-wrap justify-content-between col-md-12 col-sm-6"},[s("router-link",{staticClass:"link-decor",attrs:{to:{name:"profile",params:{id:e.id}}}},[t._v(" "+t._s(e.username)+" ")]),s("button",{staticClass:"btn btn-outline-danger btn-sm mt-1",on:{click:function(s){t.unFollow(e.id,t.profile.following.splice(a,1))}}},[t._v("Unfollow ")])],1)])})),1):t._e()]):t._e(),0==t.profile.following.length?s("section",{},[s("h4",[t._v("You are not following other members")])]):t._e()]),s("div",{staticClass:"col col-md-6 py-3"},[t.profile.followers.length>0?s("section",{},[s("h4",[t._v("Your ideas are followed by:Â "),s("b-badge",[t._v(t._s(t.profile.followers.length)+"Â person(s)")])],1),t.profile?s("div",t._l(t.profile.followers,(function(e){return s("b-card",{key:e.id,staticClass:"mb-2"},[s("div",{staticClass:"mb-4 d-flex justify-content-between"},[s("b-avatar",{attrs:{variant:"success"}}),s("router-link",{staticClass:"link-decor",attrs:{to:{name:"profile",params:{id:e.user_id}}}},[s("b-badge",{attrs:{variant:"dark"}},[t._v(t._s(e.username))])],1)],1)])})),1):t._e()]):t._e(),0==t.profile.followers.length?s("section",{},[s("h4",[t._v("Your ideas are not followed by other members")])]):t._e()])]):t._e()])},Si=[],Ti=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ri=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("h3",{staticClass:"mb-4 text-center"},[t._v("Cor of follow...")])])}],Oi={name:"AppFollow"},yi=Oi,xi=Object(G["a"])(yi,Ti,Ri,!1,null,null,null),Li=xi.exports,Ai={name:"followList",components:{AppFollow:Li},data:function(){return{currentProfile:this.profile}},computed:Object(S["a"])({},Object(T["b"])({profile:I.currentProfile})),methods:{unFollow:function(t,e){var s=this;this.$store.dispatch(fe.unFollowUser,{userId:t}).then((function(t){204===t.status?console.log("removing item from array via splice"):(404===t.response.status||401===t.response.status)&&s.$router.push({name:"login"})})).catch((function(t){return console.log("line 78",t)}))}}},ki=Ai,Ii=Object(G["a"])(ki,wi,Si,!1,null,null,null),$i=Ii.exports,ji=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Pi=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"bg"},[s("h2",[t._v("Page Not Found")])])])}],Ui={name:"notFound",mounted:function(){setTimeout(this.goHome,3500)},methods:{goHome:function(){this.$router.push("/")}}},Fi=Ui,Ni=(s("cfbf"),Object(G["a"])(Fi,ji,Pi,!1,null,"bdd257e2",null)),Mi=Ni.exports,Di=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Gi=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"bg"},[s("h2",[t._v("Sorry. You have no permissions to do this.")])])])}],Wi={name:"noPerm",mounted:function(){setTimeout(this.goHome,3500)},methods:{goHome:function(){this.$router.push("/")}}},qi=Wi,Bi=(s("72a0"),Object(G["a"])(qi,Di,Gi,!1,null,"751ea9f8",null)),Vi=Bi.exports;b["default"].use(Z["a"]);var Ki=Z["a"].prototype.push;Z["a"].prototype.push=function(t){return Ki.call(this,t).catch((function(t){return t}))};var Hi=[{path:"/",name:"home",component:Xe,meta:{public:!0}},{path:"/signup",name:"signup",component:On,meta:{public:!0}},{path:"/login",name:"login",component:En,meta:{public:!0}},{path:"/confirm-email-link/",name:"confirmEmail",component:Me,meta:{public:!0}},{path:"/activate/:uid/:token",name:"activate",component:$e,props:!0,meta:{public:!0}},{path:"/reset-password/",name:"resetForgotPsw",component:$n,meta:{public:!0}},{path:"/password/reset/confirm/:uid/:token",name:"setPswReset",component:Mn,props:!0,meta:{public:!0}},{path:"/change-password/",name:"passwordChange",component:Vn,meta:{public:!1}},{path:"/reset-password-failure/",name:"resetForgotPswFailure",component:Xn,meta:{public:!0}},{path:"/general-ideas",name:"ideaGeneral",component:Ta,meta:{public:!0}},{path:"/personal-feed/",name:"personalFeed",component:fn,meta:{public:!1}},{path:"/idea-detail/:slug",name:"ideaDetail",component:Ja,meta:{public:!0}},{path:"/idea-create",name:"ideaCreate",component:kr,meta:{public:!1}},{path:"/idea-edit/:slug",name:"editIdea",component:Fr,meta:{public:!1}},{path:"/tags-slug/:slug",name:"ideasBySlug",component:Yr,meta:{public:!0}},{path:"/tags-name/:name",name:"ideasByName",component:en,meta:{public:!0}},{path:"/category-idea/:slug",name:"categ",component:cn,meta:{public:!0}},{path:"/idea/search/:term",name:"search",component:Aa,meta:{public:!0}},{path:"/idea/filter/:sort/:featured",name:"filter",component:qr,meta:{public:!0}},{path:"/profile/:id",name:"profile",component:ai,meta:{public:!0}},{path:"/account-profile/:unid",name:"accountProfile",component:li,meta:{public:!1}},{path:"/profile-edit/:unid",name:"editProfile",component:gi,meta:{public:!1}},{path:"/profile-delete",name:"deleteAccount",component:Ci,meta:{public:!1}},{path:"/follow-view",name:"followList",component:$i,meta:{public:!0}},{path:"/about",name:"About",meta:{public:!0},component:function(){return s.e("about").then(s.bind(null,"f820"))}},{path:"/no-permissions",name:"noPerms",component:Vi,meta:{public:!0}},{path:"*",name:"notFound",component:Mi,meta:{public:!0}}],zi=new Z["a"]({mode:"history",base:"/static/dist/",routes:Hi});zi.beforeEach((function(t,e,s){var a;if((null===(a=t.meta)||void 0===a||!a.public)&&!ye.getters[R["c"].isLoggedIn])return s({name:"login",query:{next:t.fullPath}});s()}));var Yi=zi,Ji=s("5f5b"),Xi=s("b1e0"),Zi=(s("f9e3"),s("2dd8"),s("1dce")),Qi=s.n(Zi);b["default"].config.productionTip=!1,b["default"].use(Qi.a),b["default"].use(Ji["a"]),b["default"].use(Xi["a"]),Yi.beforeEach((function(t,e,s){if(t.meta.requiresAuth){var a=JSON.parse(window.localStorage.getItem("user"));a&&a.accessToken?s():s({name:"login"})}s()})),new b["default"]({router:Yi,store:ye,render:function(t){return t(X)}}).$mount("#app")},"611c":function(t,e,s){"use strict";s("e5de")},"6a76":function(t,e,s){"use strict";s("00bf")},"72a0":function(t,e,s){"use strict";s("a93c")},"72a7":function(t,e,s){},7446:function(t,e,s){"use strict";s("ccdf")},"74be":function(t,e,s){},7561:function(t,e,s){"use strict";s("8b9b")},"75e8":function(t,e,s){},"766a":function(t,e,s){},7860:function(t,e,s){"use strict";s("90a1")},"7d42":function(t,e,s){},"7faf":function(t,e,s){"use strict";s("cd93")},"815b":function(t,e,s){},8237:function(t,e,s){},"85e8":function(t,e,s){"use strict";s("50b0")},"85ec":function(t,e,s){},"8b9b":function(t,e,s){},"8be7":function(t,e,s){},9027:function(t,e,s){},"90a1":function(t,e,s){},9315:function(t,e,s){},9528:function(t,e,s){"use strict";s("0872")},9642:function(t,e,s){"use strict";s("cc40")},"97cf":function(t,e,s){"use strict";s("2add")},9937:function(t,e,s){},"9cbe":function(t,e,s){},a060:function(t,e,s){"use strict";s("766a")},a097:function(t,e,s){"use strict";s("553b")},a330:function(t,e,s){},a3e9:function(t,e,s){"use strict";s("8be7")},a55b:function(t,e,s){"use strict";s("a577")},a577:function(t,e,s){},a5a5:function(t,e,s){"use strict";s("0cb6")},a694:function(t,e,s){"use strict";s("bf9e")},a93c:function(t,e,s){},af98:function(t,e,s){"use strict";var a=s("bc3a"),r=s.n(a),n="http://127.0.0.1:8000",i=r.a.create({baseURL:n,headers:{Accept:"application/json","Content-Type":"application/json"}});e["a"]=i},b269:function(t,e,s){"use strict";s("e18e")},b58e:function(t,e,s){"use strict";s("72a7")},bcb5:function(t,e,s){"use strict";s("087e")},bd63:function(t,e,s){},bf9e:function(t,e,s){},bfe8:function(t,e,s){},c052:function(t,e,s){"use strict";s("dd4a")},c0f9:function(t,e,s){},c761:function(t,e,s){},c7d4:function(t,e,s){"use strict";s.d(e,"d",(function(){return l})),s.d(e,"a",(function(){return u})),s.d(e,"c",(function(){return d}));var a,r,n,i=s("1da1"),o=s("ade3"),c=(s("d3b7"),s("96cf"),s("3786")),l={CLEAR_CREDS:"[auth] CLEAR_CREDS",PASS_EMAIL_POTENTIAL_USER:"[auth] PASS_EMAIL_POTENTIAL_USER",REGISTER_SUCCESS:"[auth] REGISTER_SUCCESS",REGISTER_FAILURE:"[auth] REGISTER_FAILURE",SET_ACCESS_TOKEN:"[auth] SET_ACCESS_TOKEN",SET_CONFIRM:"[auth] SET_CONFIRM",SET_REFRESH_TOKEN:"[auth] SET_REFRESH_TOKEN",SET_NEW_ACCESS_TOKEN_SUCCESS:"[auth] SUCCESS GET NEW ACCESS TOKEN",FETCH_NEW_ACCESS_FAILURE:"[auth] FETCH NEW ACCESS TOKEN FAILURE",SET_LOG_IN:"[auth] SET_LOG_IN",SET_LOGIN_SUCCESS:"[auth] SET_LOGIN_SUCCESS",SET_LOGIN_FAILURE:"[auth] SET_LOGIN_FAILURE",SET_USER:"[auth] SET_USER",SET_CURRENT_USER:"[auth] GET_CURRENT_USER_START",GET_CURRENT_USER_SUCCESS:"[auth] GET_CURRENT_USER_SUCCESS",GET_CURRENT_USER_FAILURE:"[auth] GET_CURRENT_USER_FAILURE",SET_EMAIL_CONFIRM_PSW_RESET_FAILURE:"[auth] SET_EMAIL_CONFIRM_PSW_RESET_FAILURE",EMAIL_EXIST_PSW_RESET:"[auth] EMAIL_EXIST_PSW_RESET",START_CONFIRM_PSW_RESET:"[auth] START_CONFIRM_PSW_RESET",RESET_NEW_PSW_SUCCESS:"[auth] RESET_NEW_PSW_SUCCESS",RESET_NEW_PSW_FAILURE:"[auth] RESET_NEW_PSW_FAILURE",NETWORK_PROBELM:"[auth] NETWORK_PROBELM",STATUS_500:"[auth] STATUS 500 SERVER ERROR",INCORRECT_PSW:"[auth] INCORRECT_PSW",RESET_NETWORK_PROBELM:"[auth] RESET NETWORK_PROBELM",RESET_STATUS_500:"[auth] RESET STATUS 500 SERVER ERROR",START_DELETE_ACCOUNT:"[auth] DELETE account",DELETE_ACCOUNT_SUCCESS:"[auth] DELETE account success",DELETE_ACCOUNT_FAILURE:"[auth] SET_LOGIN_FAILURE",START_GOOGLE_START:"[auth] SET_GOOGLE_fIRST_STEP",START_GOOGLE_SUCCESS:"[auth] SET_GOOGLE_START_SUCCESS",START_GOOGLE_FAILURE:"[auth] SET_GOOGEL_START_FAILURE"},u={register:"[auth] register",activate:"[auth] activate",login:"[auth] login",getUser:"[auth] getUser",signOut:"[auth] signOut",confirmEmailForgottenPsw:"[auth] confirmEmailForgottenPsw",setNewPswAfterForget:"[auth] setNewPswAfterForget",setNewPswAChange:"[auth] setNewPswAChange",deleteAccount:"[auth] delete user account",fetchFreshAccessToken:"[auth] fetch new access with refresh token",registerGoogle:"[auth] first visit to Goole"},d={currentUser:"[auth] currentUser",isLoggedIn:"[auth] isLoggedIn",isAnonymous:"[auth] isAnonymous"},m={isLoading:!1,accessToken:null,refreshToken:null,confirmation:!1,signUpSuccess:!1,signUpFailure:!1,googleAuthSuccess:null,googleAuthFail:null,loginFailure:!1,loginSuccess:!1,isLogIn:null,showEmail:null,user:null,userId:null,confirmResetPsw:!1,emailPswResetFailure:!1,resetPswSuccess:!1,pswResetFailure:!1,incorrectEmail:!1,errEvent:null,netWorkErr:!1,status500:!1,noRespServer:!1},p=(a={},Object(o["a"])(a,d.currentUser,(function(t){return t.user||JSON.parse(localStorage.getItem("user"))})),Object(o["a"])(a,d.isLoggedIn,(function(t){return Boolean(t.isLogIn)})),Object(o["a"])(a,d.isAnonymous,(function(t){return null===t.isLogIn})),a),f=(r={},Object(o["a"])(r,l.CLEAR_CREDS,(function(t){t.isLogIn=!1,t.accessToken=null,t.refreshToken=null,t.user=null,t.isLogIn=!1,localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("userId"),localStorage.removeItem("profile")})),Object(o["a"])(r,l.PASS_EMAIL_POTENTIAL_USER,(function(t,e){t.showEmail=e})),Object(o["a"])(r,l.REGISTER_SUCCESS,(function(t){t.signUpFailure=!0,t.isLoading=!1})),Object(o["a"])(r,l.REGISTER_FAILURE,(function(t){t.signUpFailure=!0,t.isLoading=!1})),Object(o["a"])(r,l.SET_ACCESS_TOKEN,(function(t,e){localStorage.setItem("accessToken",e),t.accessToken=e})),Object(o["a"])(r,l.SET_CONFIRM,(function(t){t.confirmation=!0})),Object(o["a"])(r,l.SET_LOG_IN,(function(t){t.isLogIn=!0})),Object(o["a"])(r,l.SET_LOGIN_SUCCESS,(function(t){t.loginSuccess=!0})),Object(o["a"])(r,l.SET_LOGIN_FAILURE,(function(t){t.loginFailure=!0})),Object(o["a"])(r,l.SET_REFRESH_TOKEN,(function(t,e){localStorage.setItem("refreshToken",e),t.refreshToken=e})),Object(o["a"])(r,l.SET_CURRENT_USER,(function(t,e){t.isLoading=!1,t.user=e,t.userId=e.id,localStorage.setItem("user",JSON.stringify(e))})),Object(o["a"])(r,l.GET_CURRENT_USER_FAILURE,(function(t){t.isLoading=!1,t.isLogIn=null,t.currentUser=null})),Object(o["a"])(r,l.START_CONFIRM_PSW_RESET,(function(t){t.isLoading=!0})),Object(o["a"])(r,l.EMAIL_EXIST_PSW_RESET,(function(t,e){t.isLoading=!1,t.showEmail=e})),Object(o["a"])(r,l.SET_EMAIL_CONFIRM_PSW_RESET_FAILURE,(function(t,e){t.emailPswResetFailure=!0,t.showEmail=e,t.isLoading=!1})),Object(o["a"])(r,l.NETWORK_PROBELM,(function(t){t.netWorkErr=!0,t.isLoading=!1})),Object(o["a"])(r,l.STATUS_500,(function(t){t.status500=!0,t.isLoading=!1})),Object(o["a"])(r,l.RESET_NETWORK_PROBELM,(function(t){t.netWorkErr=!1})),Object(o["a"])(r,l.RESET_STATUS_500,(function(t){t.status500=!1})),Object(o["a"])(r,l.INCORRECT_PSW,(function(t){t.incorrectEmail=!0,t.isLoading=!1})),Object(o["a"])(r,l.RESET_NEW_PSW_SUCCESS,(function(t){t.isLoading=!1,t.resetPswSuccess=!0})),Object(o["a"])(r,l.RESET_NEW_PSW_FAILURE,(function(t){t.pswResetFailure=!0,t.isLoading=!1})),Object(o["a"])(r,l.START_DELETE_ACCOUNT,(function(t){t.isLoading=!0})),Object(o["a"])(r,l.DELETE_ACCOUNT_SUCCESS,(function(t){t.isLoading=!1})),Object(o["a"])(r,l.DELETE_ACCOUNT_FAILURE,(function(t,e){t.isLoading=!1,t.errEvent=e})),Object(o["a"])(r,l.SET_NEW_ACCESS_TOKEN_SUCCESS,(function(){})),Object(o["a"])(r,l.FETCH_NEW_ACCESS_FAILURE,(function(){m.noRespServer=!0})),Object(o["a"])(r,l.START_GOOGLE_START,(function(t){t.isSubmitting=!0})),Object(o["a"])(r,l.START_GOOGLE_SUCCESS,(function(t){t.isSubmitting=!1})),Object(o["a"])(r,l.START_GOOGLE_FAILURE,(function(t){t.isSubmitting=!1})),r),g=(n={},Object(o["a"])(n,u.register,(function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a(l.RESET_NETWORK_PROBELM),a(l.RESET_STATUS_500),r={},s.prev=4,s.next=7,c["a"].register(e);case 7:return n=s.sent,r.status=n.status,console.log("in store action register status is:",n.status),r.email=n.data.email,r.status=201,a(l.PASS_EMAIL_POTENTIAL_USER,n.data.email),s.abrupt("return",r);case 16:if(s.prev=16,s.t0=s["catch"](4),a(l.REGISTER_FAILURE),void 0!==s.t0.response){s.next=25;break}return a(l.NETWORK_PROBELM),r.servDown=!0,s.abrupt("return",r);case 25:if(400!==s.t0.response.status){s.next=35;break}return r.status=s.t0.response.status,r.emailErr=s.t0.response.data.email,r.usernameErr=s.t0.response.data.username,r.pswErr=s.t0.response.data.password,r.psw2Err=s.t0.response.data.re_password,r.nonFieldErr=s.t0.response.data.non_field_errors,s.abrupt("return",r);case 35:if(500!==s.t0.response.status){s.next=41;break}return a(l.STATUS_500),r.status=s.t0.response.status,s.abrupt("return",r);case 41:if(404!==s.t0.response.status){s.next=46;break}return r.status=404,s.abrupt("return",r);case 46:return r.status=404,s.abrupt("return",r);case 48:case"end":return s.stop()}}),s,null,[[4,16]])})))()})),Object(o["a"])(n,u.activate,(function(t,e){var s=t.commit;return new Promise((function(t,a){var r="";c["a"].activate(e).then((function(e){s(l.SET_CONFIRM),r=e.status,t(r)})).catch((function(t){r=t.response.status,s("REGISTER_FAILURE"),a(r)}))}))})),Object(o["a"])(n,u.login,(function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r={},s.prev=2,s.next=5,c["a"].login(e);case 5:return n=s.sent,a(l.RESET_NETWORK_PROBELM),a(l.RESET_STATUS_500),200===n.status&&(a(l.SET_LOGIN_SUCCESS),a(l.SET_ACCESS_TOKEN,n.data.access),a(l.SET_REFRESH_TOKEN,n.data.refresh)),r.status=n.status,r.data=n.data,s.abrupt("return",n);case 14:if(s.prev=14,s.t0=s["catch"](2),a(l.SET_LOGIN_FAILURE),void 0!==s.t0.response){s.next=23;break}return a(l.NETWORK_PROBELM),r.servDown=!0,s.abrupt("return",r);case 23:if(500!==s.t0.response.status){s.next=28;break}return a(l.STATUS_500),s.abrupt("return",resp);case 28:return localStorage.clear(),s.abrupt("return",s.t0);case 30:case"end":return s.stop()}}),s,null,[[2,14]])})))()})),Object(o["a"])(n,u.getUser,(function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,c["a"].getUser();case 4:if(a=e.sent,r=a.data,s(l.SET_CURRENT_USER,r),s(l.SET_LOG_IN),s(l.SET_LOGIN_SUCCESS),!a.status){e.next=13;break}return e.abrupt("return",a.status);case 13:return e.abrupt("return",a);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e["catch"](1),s(l.GET_CURRENT_USER_FAILURE),e.abrupt("return",e.t0.response.status);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))()})),Object(o["a"])(n,u.signOut,(function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=t.commit,s(l.CLEAR_CREDS);case 2:case"end":return e.stop()}}),e)})))()})),Object(o["a"])(n,u.confirmEmailForgottenPsw,(function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a(l.START_CONFIRM_PSW_RESET),r={},s.prev=3,n={email:e.email},s.next=7,c["a"].confirmEmailPswForget(n);case 7:return i=s.sent,a(l.EMAIL_EXIST_PSW_RESET,n),s.abrupt("return",i);case 12:return s.prev=12,s.t0=s["catch"](3),a(l.SET_EMAIL_CONFIRM_PSW_RESET_FAILURE,e.email),void 0===s.t0.response?(a(l.NETWORK_PROBELM),r.servDown=!0):(a(l.INCORRECT_PSW),r.status=s.t0.response.status,r.currentPsw=s.t0.response.data.email,r.nonFieldErr=s.t0.response.data.non_field_errors),localStorage.clear(),s.abrupt("return",r);case 18:case"end":return s.stop()}}),s,null,[[3,12]])})))()})),Object(o["a"])(n,u.setNewPswAfterForget,(function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a(l.START_CONFIRM_PSW_RESET),r={new_password:e.psw,re_new_password:e.psw2,uid:e.uid,token:e.token},s.prev=3,s.next=6,c["a"].requestNewPsw(r);case 6:return n=s.sent,a(l.RESET_NEW_PSW_SUCCESS),s.abrupt("return",n);case 11:s.prev=11,s.t0=s["catch"](3),a(l.RESET_NEW_PSW_FAILURE);case 14:case"end":return s.stop()}}),s,null,[[3,11]])})))()})),Object(o["a"])(n,u.setNewPswAChange,(function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,a(l.START_CONFIRM_PSW_RESET),r={},n={new_password:e.newPsw,re_new_password:e.newPsw2,current_password:e.currentPsw},s.prev=4,s.next=7,c["a"].requestChangePsw(n);case 7:return i=s.sent,a(l.RESET_NEW_PSW_SUCCESS),r.status=i.status,s.abrupt("return",r);case 13:return s.prev=13,s.t0=s["catch"](4),a(l.RESET_NEW_PSW_FAILURE),void 0===s.t0.response?r.servDown=!0:(r.status=s.t0.response.status,r.newPsw=s.t0.response.data.new_password,r.newPsw2=s.t0.response.data.re_new_password,r.currentPsw=s.t0.response.data.current_password,r.nonFieldErr=s.t0.response.data.non_field_errors),s.abrupt("return",r);case 18:case"end":return s.stop()}}),s,null,[[4,13]])})))()})),Object(o["a"])(n,u.deleteAccount,(function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r={},s.prev=2,s.next=5,c["a"].deleteAccount(e);case 5:return n=s.sent,a(l.DELETE_ACCOUNT_SUCCESS),r.status=n.status,s.abrupt("return",r);case 11:if(s.prev=11,s.t0=s["catch"](2),a(l.DELETE_ACCOUNT_FAILURE,s.t0),void 0!==s.t0.response){s.next=20;break}return a(l.NETWORK_PROBELM),r.servDown=!0,s.abrupt("return",r);case 20:if(400!==s.t0.response.status){s.next=26;break}return r.status=s.t0.response.status,r.pwsErr=s.t0.response.data.current_password,s.abrupt("return",r);case 26:if(401!==s.t0.response.status){s.next=31;break}return r.status=s.t0.response.status,s.abrupt("return",r);case 31:if(500!==s.t0.response.status){s.next=37;break}return a(l.STATUS_500),r.status=s.t0.response.status,s.abrupt("return",r);case 37:if(404!==s.t0.response.status){s.next=40;break}return r.status=s.t0.response.status,s.abrupt("return",r);case 40:case"end":return s.stop()}}),s,null,[[2,11]])})))()})),Object(o["a"])(n,u.fetchFreshAccessToken,(function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,s.prev=1,s.next=4,c["a"].getNewAccessToken({refresh:e});case 4:if(r=s.sent,200!==r.status){s.next=10;break}return n=r.data.access,a(l.SET_ACCESS_TOKEN,n),a(l.SET_NEW_ACCESS_TOKEN_SUCCESS),s.abrupt("return",r);case 10:s.next=16;break;case 12:return s.prev=12,s.t0=s["catch"](1),a(l.FETCH_NEW_ACCESS_FAILURE),s.abrupt("return",s.t0);case 16:case"end":return s.stop()}}),s,null,[[1,12]])})))()})),Object(o["a"])(n,u.registerGoogle,(function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,s(l.START_GOOGLE_START),e.prev=2,e.next=5,c["a"].registerGoogle();case 5:return a=e.sent,s(l.START_GOOGLE_SUCCESS),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e["catch"](2),s(l.START_GOOGLE_FAILURE),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))()})),n);e["b"]={state:m,getters:p,mutations:f,actions:g}},c82a:function(t,e,s){"use strict";s("bd63")},cae6:function(t,e,s){"use strict";s("9027")},cc40:function(t,e,s){},ccdf:function(t,e,s){},cd93:function(t,e,s){},cfbf:function(t,e,s){"use strict";s("df0e")},d11d:function(t,e,s){"use strict";s("815b")},d938:function(t,e,s){"use strict";s("7d42")},db5b:function(t,e,s){"use strict";s("f9e9")},dd4a:function(t,e,s){},df0e:function(t,e,s){},e18e:function(t,e,s){},e2ec:function(t,e,s){},e5de:function(t,e,s){},e7ef:function(t,e,s){"use strict";s("9937")},e8ce:function(t,e,s){},efa4:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"mb-5 mx-auto"},[s("form",{ref:"zoo",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"body"}},[t._v("Comment (max "+t._s(t.$v.body.$params.maxLength.max)+" chars)")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.body,expression:"body"}],staticClass:"body-bg  w-100 h-50 my-2",class:{"is-invalid warning body-warning":this.$v.body.$error},attrs:{id:"body",cols:"30",rows:"12",placeholder:"Remember be nice"},domProps:{value:t.body},on:{blur:function(e){return t.$v.body.$touch()},input:function(e){e.target.composing||(t.body=e.target.value)}}}),t.bodyRequired?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v(t._s(t.fieldRequired)+" ")]):t._e(),t.inValidBodyMaxLen?s("b-form-invalid-feedback",{staticClass:"invalid-feedback"},[t._v("Comment should at most "+t._s(t.$v.body.$params.maxLength.max)+" chars ")]):t._e()],1),s("div",{staticClass:"d-flex justify-content-around"},[s("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:t.formInValid}},[t._v(t._s(t.submitLabel))]),t.hasCancelButton?s("button",{staticClass:"btn btn-primary",on:{click:t.handleCancel}},[t._v("Cancel")]):t._e(),t.hasCancelButtonRoot?s("button",{staticClass:"btn btn-primary",on:{click:t.handleCancelRootComment}},[t._v("Cancel")]):t._e()])])])])},r=[],n=(s("a9e3"),s("b5ae")),i={name:"CommentForm",props:{cleanForm:{type:Boolean},activeComment:{type:Object||null},hasCancelButton:{type:Boolean},hasCancelButtonRoot:{type:Boolean},initialBody:{type:String},parentId:{type:Number||null},replyToId:{type:Number||null},submitLabel:{type:String,required:!0},success:{type:Boolean}},data:function(){return{body:this.initialBody,fieldRequired:"This field is required"}},validations:{body:{required:n["required"],maxLength:Object(n["maxLength"])(6500)}},methods:{onSubmit:function(){if("Edit"===this.submitLabel){var t={body:this.body};this.$emit("updateComment",t)}else if("Reply"===this.submitLabel){var e={body:this.body,parent:this.parentId};this.$emit("reply",e)}else if("Write"===this.submitLabel&&!this.formInValid){var s={body:this.body,parent:null};this.$emit("addRootComment",s),this.cleanForm&&(this.body="")}},handleCancel:function(){this.$emit("handleCancel")},handleCancelRootComment:function(){this.$emit("handleCancelRootComment")}},computed:{getBodyText:function(){return this.initialBody},cleaning:function(){return this.cleanForm},formInValid:function(){return this.$v.$invalid},bodyRequired:function(){return this.$v.body.$dirty&&!this.$v.body.required},inValidBodyMaxLen:function(){return this.$v.body.$dirty&&!this.$v.body.maxLength}},watch:{cleaning:function(){this.body=""}}},o=i,c=(s("45a8"),s("2877")),l=Object(c["a"])(o,a,r,!1,null,"79e18414",null);e["a"]=l.exports},f46c:function(t,e,s){t.exports=s.p+"img/ava_cat.bff0dde9.jpg"},f9e9:function(t,e,s){}});
//# sourceMappingURL=app.58255fdf.js.map